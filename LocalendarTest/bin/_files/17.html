<HTML><HEAD><META CONTENT="text/html; charset=UTF-8" HTTP-EQUIV="Content-Type"/><TITLE>EMMA Coverage Report</TITLE><STYLE TYPE="text/css"> TABLE,TD,TH {border-style:solid; border-color:black;} TD,TH {background:white;margin:0;line-height:100%;padding-left:0.5em;padding-right:0.5em;} TD {border-width:0 1px 0 0;} TH {border-width:1px 1px 1px 0;} TR TD.h {color:red;} TABLE {border-spacing:0; border-collapse:collapse;border-width:0 0 1px 1px;} P,H1,H2,H3,TH {font-family:verdana,arial,sans-serif;font-size:10pt;} TD {font-family:courier,monospace;font-size:10pt;} TABLE.hdft {border-spacing:0;border-collapse:collapse;border-style:none;} TABLE.hdft TH,TABLE.hdft TD {border-style:none;line-height:normal;} TABLE.hdft TH.tl,TABLE.hdft TD.tl {background:#6699CC;color:white;} TABLE.hdft TD.nv {background:#6633DD;color:white;} .nv A:link {color:white;} .nv A:visited {color:white;} .nv A:active {color:yellow;} TABLE.hdft A:link {color:white;} TABLE.hdft A:visited {color:white;} TABLE.hdft A:active {color:yellow;} .in {color:#356085;} TABLE.s TD {padding-left:0.25em;padding-right:0.25em;} TABLE.s TD.l {padding-left:0.25em;padding-right:0.25em;text-align:right;background:#F0F0F0;} TABLE.s TR.z TD {background:#FF9999;} TABLE.s TR.p TD {background:#FFFF88;} TABLE.s TR.c TD {background:#CCFFCC;} A:link {color:#0000EE;text-decoration:none;} A:visited {color:#0000EE;text-decoration:none;} A:hover {color:#0000EE;text-decoration:underline;} TABLE.cn {border-width:0 0 1px 0;} TABLE.s {border-width:1px 0 1px 1px;} TD.h {color:red;border-width:0 1px 0 0;} TD.f {border-width:0 1px 0 1px;} TD.hf {color:red;border-width:0 1px 0 1px;} TH.f {border-width:1px 1px 1px 1px;} TR.cis TD {background:#F0F0F0;} TR.cis TD {border-width:1px 1px 1px 0;} TR.cis TD.h {color:red;border-width:1px 1px 1px 0;} TR.cis TD.f {border-width:1px 1px 1px 1px;} TR.cis TD.hf {color:red;border-width:1px 1px 1px 1px;} TD.b {border-style:none;background:transparent;line-height:50%;}  TD.bt {border-width:1px 0 0 0;background:transparent;line-height:50%;} TR.o TD {background:#F0F0F0;}TABLE.it {border-style:none;}TABLE.it TD,TABLE.it TH {border-style:none;}</STYLE></HEAD><BODY><TABLE CLASS="hdft" CELLSPACING="0" WIDTH="100%"><TR><TH CLASS="tl"><A HREF="http://emma.sourceforge.net/">EMMA</A> Coverage Report (generated Sun May 04 22:10:52 HKT 2014)</TH></TR><TR><TD CLASS="nv">[<A HREF="../coverage.html">all classes</A>][<A HREF="3.html">com.facebook.widget</A>]</TD></TR></TABLE><H2>COVERAGE SUMMARY FOR SOURCE FILE [<SPAN CLASS="in">FacebookDialog.java</SPAN>]</H2><TABLE CELLSPACING="0" WIDTH="100%"><TR><TH>name</TH><TH>class, %</TH><TH>method, %</TH><TH>block, %</TH><TH>line, %</TH></TR><TR><TD>FacebookDialog.java</TD><TD CLASS="h">0%   (0/14)</TD><TD CLASS="h">0%   (0/104)</TD><TD CLASS="h">0%   (0/1461)</TD><TD CLASS="h">0%   (0/365)</TD></TR></TABLE><H3>COVERAGE BREAKDOWN BY CLASS AND METHOD</H3><TABLE CLASS="cn" CELLSPACING="0" WIDTH="100%"><TR><TH CLASS="f">name</TH><TH>class, %</TH><TH>method, %</TH><TH>block, %</TH><TH>line, %</TH></TR><TR><TD CLASS="b"> </TD><TD CLASS="b"> </TD><TD CLASS="b"> </TD><TD CLASS="b"> </TD><TD CLASS="b"> </TD></TR><TR CLASS="cis"><TD CLASS="f">class <A HREF="#0">FacebookDialog</A></TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/19)</TD><TD CLASS="h">0%   (0/202)</TD><TD CLASS="h">0%   (0/47)</TD></TR><TR><TD CLASS="f"><A HREF="#1">FacebookDialog (Activity, Fragment, FacebookDialog$PendingCall, FacebookDialo...</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/15)</TD><TD CLASS="h">0%   (0/6)</TD></TR><TR CLASS="o"><TD CLASS="f"><A HREF="#0">FacebookDialog (Activity, Fragment, FacebookDialog$PendingCall, FacebookDialo...</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/7)</TD><TD CLASS="h">0%   (0/1)</TD></TR><TR><TD CLASS="f"><A HREF="#0">access$100 (Iterable): String</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/3)</TD><TD CLASS="h">0%   (0/1)</TD></TR><TR CLASS="o"><TD CLASS="f"><A HREF="#0">access$200 (Iterable): int</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/3)</TD><TD CLASS="h">0%   (0/1)</TD></TR><TR><TD CLASS="f"><A HREF="#0">access$300 (Context, String, int): int</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/5)</TD><TD CLASS="h">0%   (0/1)</TD></TR><TR CLASS="o"><TD CLASS="f"><A HREF="#0">access$600 (Context, Iterable): boolean</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/4)</TD><TD CLASS="h">0%   (0/1)</TD></TR><TR><TD CLASS="f"><A HREF="#0">access$700 (): NativeAppCallAttachmentStore</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/2)</TD><TD CLASS="h">0%   (0/1)</TD></TR><TR CLASS="o"><TD CLASS="f"><A HREF="#8">canPresentOpenGraphActionDialog (Context, FacebookDialog$OpenGraphActionDialo...</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/6)</TD><TD CLASS="h">0%   (0/1)</TD></TR><TR><TD CLASS="f"><A HREF="#9">canPresentShareDialog (Context, FacebookDialog$ShareDialogFeature []): boolean</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/6)</TD><TD CLASS="h">0%   (0/1)</TD></TR><TR CLASS="o"><TD CLASS="f"><A HREF="#a">getActionForFeatures (Iterable): String</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/18)</TD><TD CLASS="h">0%   (0/5)</TD></TR><TR><TD CLASS="f"><A HREF="#b">getAttachmentStore (): NativeAppCallAttachmentStore</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/8)</TD><TD CLASS="h">0%   (0/3)</TD></TR><TR CLASS="o"><TD CLASS="f"><A HREF="#c">getMinVersionForFeatures (Iterable): int</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/20)</TD><TD CLASS="h">0%   (0/5)</TD></TR><TR><TD CLASS="f"><A HREF="#d">getNativeDialogCompletionGesture (Bundle): String</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/4)</TD><TD CLASS="h">0%   (0/1)</TD></TR><TR CLASS="o"><TD CLASS="f"><A HREF="#e">getNativeDialogDidComplete (Bundle): boolean</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/5)</TD><TD CLASS="h">0%   (0/1)</TD></TR><TR><TD CLASS="f"><A HREF="#f">getNativeDialogPostId (Bundle): String</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/4)</TD><TD CLASS="h">0%   (0/1)</TD></TR><TR CLASS="o"><TD CLASS="f"><A HREF="#10">getProtocolVersionForNativeDialog (Context, String, int): int</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/5)</TD><TD CLASS="h">0%   (0/1)</TD></TR><TR><TD CLASS="f"><A HREF="#11">handleActivityResult (Context, FacebookDialog$PendingCall, int, Intent, Faceb...</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/35)</TD><TD CLASS="h">0%   (0/11)</TD></TR><TR CLASS="o"><TD CLASS="f"><A HREF="#12">handleCanPresent (Context, Iterable): boolean</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/12)</TD><TD CLASS="h">0%   (0/1)</TD></TR><TR><TD CLASS="f"><A HREF="#13">present (): FacebookDialog$PendingCall</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/40)</TD><TD CLASS="h">0%   (0/9)</TD></TR><TR><TD CLASS="bt"> </TD><TD CLASS="bt"> </TD><TD CLASS="bt"> </TD><TD CLASS="bt"> </TD><TD CLASS="bt"> </TD></TR><TR CLASS="cis"><TD CLASS="f">class <A HREF="#14">FacebookDialog$1</A></TD><TD CLASS="h">0%   (0/1)</TD><TD>100% (0/0)</TD><TD>100% (0/0)</TD><TD>100% (0/0)</TD></TR><TR><TD CLASS="bt"> </TD><TD CLASS="bt"> </TD><TD CLASS="bt"> </TD><TD CLASS="bt"> </TD><TD CLASS="bt"> </TD></TR><TR CLASS="cis"><TD CLASS="f">class <A HREF="#15">FacebookDialog$Builder</A></TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/14)</TD><TD CLASS="h">0%   (0/236)</TD><TD CLASS="h">0%   (0/58)</TD></TR><TR><TD CLASS="f"><A HREF="#15">FacebookDialog$Builder (Activity): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/29)</TD><TD CLASS="h">0%   (0/8)</TD></TR><TR CLASS="o"><TD CLASS="f"><A HREF="#17">addImageAttachment (String, Bitmap): FacebookDialog$Builder</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/10)</TD><TD CLASS="h">0%   (0/3)</TD></TR><TR><TD CLASS="f"><A HREF="#18">addImageAttachment (String, File): FacebookDialog$Builder</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/10)</TD><TD CLASS="h">0%   (0/3)</TD></TR><TR CLASS="o"><TD CLASS="f"><A HREF="#19">addImageAttachmentFiles (Collection): List</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/37)</TD><TD CLASS="h">0%   (0/8)</TD></TR><TR><TD CLASS="f"><A HREF="#1a">addImageAttachments (Collection): List</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/37)</TD><TD CLASS="h">0%   (0/8)</TD></TR><TR CLASS="o"><TD CLASS="f"><A HREF="#1b">build (): FacebookDialog</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/65)</TD><TD CLASS="h">0%   (0/12)</TD></TR><TR><TD CLASS="f"><A HREF="#1c">canPresent (): boolean</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/6)</TD><TD CLASS="h">0%   (0/1)</TD></TR><TR CLASS="o"><TD CLASS="f"><A HREF="#1d">getImageAttachmentNames (): List</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/7)</TD><TD CLASS="h">0%   (0/1)</TD></TR><TR><TD CLASS="f"><A HREF="#1e">getOnPresentCallback (): FacebookDialog$OnPresentCallback</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/5)</TD><TD CLASS="h">0%   (0/1)</TD></TR><TR CLASS="o"><TD CLASS="f"><A HREF="#1f">putExtra (Bundle, String, String): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/7)</TD><TD CLASS="h">0%   (0/3)</TD></TR><TR><TD CLASS="f"><A HREF="#20">setApplicationName (String): FacebookDialog$Builder</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/7)</TD><TD CLASS="h">0%   (0/3)</TD></TR><TR CLASS="o"><TD CLASS="f"><A HREF="#21">setFragment (Fragment): FacebookDialog$Builder</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/7)</TD><TD CLASS="h">0%   (0/3)</TD></TR><TR><TD CLASS="f"><A HREF="#22">setRequestCode (int): FacebookDialog$Builder</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/8)</TD><TD CLASS="h">0%   (0/3)</TD></TR><TR CLASS="o"><TD CLASS="f"><A HREF="#23">validate (): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/1)</TD></TR><TR><TD CLASS="bt"> </TD><TD CLASS="bt"> </TD><TD CLASS="bt"> </TD><TD CLASS="bt"> </TD><TD CLASS="bt"> </TD></TR><TR CLASS="cis"><TD CLASS="f">class <A HREF="#1e">FacebookDialog$Builder$1</A></TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/2)</TD><TD CLASS="h">0%   (0/45)</TD><TD CLASS="h">0%   (0/6)</TD></TR><TR><TD CLASS="f"><A HREF="#1e">FacebookDialog$Builder$1 (FacebookDialog$Builder): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/6)</TD><TD CLASS="h">0%   (0/1)</TD></TR><TR CLASS="o"><TD CLASS="f"><A HREF="#26">onPresent (Context): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/39)</TD><TD CLASS="h">0%   (0/5)</TD></TR><TR><TD CLASS="bt"> </TD><TD CLASS="bt"> </TD><TD CLASS="bt"> </TD><TD CLASS="bt"> </TD><TD CLASS="bt"> </TD></TR><TR CLASS="cis"><TD CLASS="f">class <A HREF="#27">FacebookDialog$OpenGraphActionDialogBuilder</A></TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/3)</TD><TD CLASS="h">0%   (0/16)</TD><TD CLASS="h">0%   (0/5)</TD></TR><TR><TD CLASS="f"><A HREF="#28">FacebookDialog$OpenGraphActionDialogBuilder (Activity, OpenGraphAction, Strin...</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/6)</TD><TD CLASS="h">0%   (0/2)</TD></TR><TR CLASS="o"><TD CLASS="f"><A HREF="#27">FacebookDialog$OpenGraphActionDialogBuilder (Activity, OpenGraphAction, Strin...</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/7)</TD><TD CLASS="h">0%   (0/2)</TD></TR><TR><TD CLASS="f"><A HREF="#2a">getDialogFeatures (): EnumSet</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/3)</TD><TD CLASS="h">0%   (0/1)</TD></TR><TR><TD CLASS="bt"> </TD><TD CLASS="bt"> </TD><TD CLASS="bt"> </TD><TD CLASS="bt"> </TD><TD CLASS="bt"> </TD></TR><TR CLASS="cis"><TD CLASS="f">class <A HREF="#2b">FacebookDialog$OpenGraphActionDialogFeature</A></TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/6)</TD><TD CLASS="h">0%   (0/37)</TD><TD CLASS="h">0%   (0/7)</TD></TR><TR><TD CLASS="f"><A HREF="#2c">&lt;static initializer&gt;</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/15)</TD><TD CLASS="h">0%   (0/2)</TD></TR><TR CLASS="o"><TD CLASS="f"><A HREF="#2d">FacebookDialog$OpenGraphActionDialogFeature (String, int, int): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/8)</TD><TD CLASS="h">0%   (0/3)</TD></TR><TR><TD CLASS="f"><A HREF="#2e">getAction (): String</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/2)</TD><TD CLASS="h">0%   (0/1)</TD></TR><TR CLASS="o"><TD CLASS="f"><A HREF="#2f">getMinVersion (): int</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/3)</TD><TD CLASS="h">0%   (0/1)</TD></TR><TR><TD CLASS="f"><A HREF="#2b">valueOf (String): FacebookDialog$OpenGraphActionDialogFeature</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/5)</TD><TD CLASS="h">0%   (0/1)</TD></TR><TR CLASS="o"><TD CLASS="f"><A HREF="#2b">values (): FacebookDialog$OpenGraphActionDialogFeature []</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/4)</TD><TD CLASS="h">0%   (0/1)</TD></TR><TR><TD CLASS="bt"> </TD><TD CLASS="bt"> </TD><TD CLASS="bt"> </TD><TD CLASS="bt"> </TD><TD CLASS="bt"> </TD></TR><TR CLASS="cis"><TD CLASS="f">class <A HREF="#32">FacebookDialog$OpenGraphDialogBuilderBase</A></TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/16)</TD><TD CLASS="h">0%   (0/524)</TD><TD CLASS="h">0%   (0/133)</TD></TR><TR><TD CLASS="f"><A HREF="#33">FacebookDialog$OpenGraphDialogBuilderBase (Activity, OpenGraphAction, String)...</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/44)</TD><TD CLASS="h">0%   (0/10)</TD></TR><TR CLASS="o"><TD CLASS="f"><A HREF="#32">FacebookDialog$OpenGraphDialogBuilderBase (Activity, OpenGraphAction, String,...</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/57)</TD><TD CLASS="h">0%   (0/13)</TD></TR><TR><TD CLASS="f"><A HREF="#35">flattenChildrenOfGraphObject (JSONObject): JSONObject</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/42)</TD><TD CLASS="h">0%   (0/12)</TD></TR><TR CLASS="o"><TD CLASS="f"><A HREF="#36">flattenObject (Object): Object</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/65)</TD><TD CLASS="h">0%   (0/18)</TD></TR><TR><TD CLASS="f"><A HREF="#37">setBundleExtras (Bundle): Bundle</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/35)</TD><TD CLASS="h">0%   (0/8)</TD></TR><TR CLASS="o"><TD CLASS="f"><A HREF="#38">setDataErrorsFatal (boolean): FacebookDialog$OpenGraphDialogBuilderBase</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/7)</TD><TD CLASS="h">0%   (0/3)</TD></TR><TR><TD CLASS="f"><A HREF="#39">setImageAttachmentFilesForAction (List): FacebookDialog$OpenGraphDialogBuilde...</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/5)</TD><TD CLASS="h">0%   (0/1)</TD></TR><TR CLASS="o"><TD CLASS="f"><A HREF="#3a">setImageAttachmentFilesForAction (List, boolean): FacebookDialog$OpenGraphDia...</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/23)</TD><TD CLASS="h">0%   (0/7)</TD></TR><TR><TD CLASS="f"><A HREF="#3b">setImageAttachmentFilesForObject (String, List): FacebookDialog$OpenGraphDial...</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/6)</TD><TD CLASS="h">0%   (0/1)</TD></TR><TR CLASS="o"><TD CLASS="f"><A HREF="#3c">setImageAttachmentFilesForObject (String, List, boolean): FacebookDialog$Open...</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/27)</TD><TD CLASS="h">0%   (0/8)</TD></TR><TR><TD CLASS="f"><A HREF="#3d">setImageAttachmentsForAction (List): FacebookDialog$OpenGraphDialogBuilderBase</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/5)</TD><TD CLASS="h">0%   (0/1)</TD></TR><TR CLASS="o"><TD CLASS="f"><A HREF="#3e">setImageAttachmentsForAction (List, boolean): FacebookDialog$OpenGraphDialogB...</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/23)</TD><TD CLASS="h">0%   (0/7)</TD></TR><TR><TD CLASS="f"><A HREF="#3f">setImageAttachmentsForObject (String, List): FacebookDialog$OpenGraphDialogBu...</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/6)</TD><TD CLASS="h">0%   (0/1)</TD></TR><TR CLASS="o"><TD CLASS="f"><A HREF="#40">setImageAttachmentsForObject (String, List, boolean): FacebookDialog$OpenGrap...</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/27)</TD><TD CLASS="h">0%   (0/8)</TD></TR><TR><TD CLASS="f"><A HREF="#41">updateActionAttachmentUrls (List, boolean): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/56)</TD><TD CLASS="h">0%   (0/15)</TD></TR><TR CLASS="o"><TD CLASS="f"><A HREF="#42">updateObjectAttachmentUrls (String, List, boolean): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/96)</TD><TD CLASS="h">0%   (0/20)</TD></TR><TR><TD CLASS="bt"> </TD><TD CLASS="bt"> </TD><TD CLASS="bt"> </TD><TD CLASS="bt"> </TD><TD CLASS="bt"> </TD></TR><TR CLASS="cis"><TD CLASS="f">class <A HREF="#43">FacebookDialog$PendingCall</A></TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/13)</TD><TD CLASS="h">0%   (0/86)</TD><TD CLASS="h">0%   (0/24)</TD></TR><TR><TD CLASS="f"><A HREF="#44">&lt;static initializer&gt;</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/5)</TD><TD CLASS="h">0%   (0/1)</TD></TR><TR CLASS="o"><TD CLASS="f"><A HREF="#45">FacebookDialog$PendingCall (Parcel): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/18)</TD><TD CLASS="h">0%   (0/5)</TD></TR><TR><TD CLASS="f"><A HREF="#43">FacebookDialog$PendingCall (Parcel, FacebookDialog$1): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/4)</TD><TD CLASS="h">0%   (0/1)</TD></TR><TR CLASS="o"><TD CLASS="f"><A HREF="#47">FacebookDialog$PendingCall (int): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/9)</TD><TD CLASS="h">0%   (0/4)</TD></TR><TR><TD CLASS="f"><A HREF="#43">access$000 (FacebookDialog$PendingCall, int): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/4)</TD><TD CLASS="h">0%   (0/1)</TD></TR><TR CLASS="o"><TD CLASS="f"><A HREF="#43">access$400 (FacebookDialog$PendingCall, Intent): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/4)</TD><TD CLASS="h">0%   (0/1)</TD></TR><TR><TD CLASS="f"><A HREF="#4a">describeContents (): int</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/2)</TD><TD CLASS="h">0%   (0/1)</TD></TR><TR CLASS="o"><TD CLASS="f"><A HREF="#4b">getCallId (): UUID</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/3)</TD><TD CLASS="h">0%   (0/1)</TD></TR><TR><TD CLASS="f"><A HREF="#4c">getRequestCode (): int</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/3)</TD><TD CLASS="h">0%   (0/1)</TD></TR><TR CLASS="o"><TD CLASS="f"><A HREF="#4d">getRequestIntent (): Intent</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/3)</TD><TD CLASS="h">0%   (0/1)</TD></TR><TR><TD CLASS="f"><A HREF="#4e">setRequestCode (int): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/4)</TD><TD CLASS="h">0%   (0/2)</TD></TR><TR CLASS="o"><TD CLASS="f"><A HREF="#4f">setRequestIntent (Intent): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/12)</TD><TD CLASS="h">0%   (0/3)</TD></TR><TR><TD CLASS="f"><A HREF="#50">writeToParcel (Parcel, int): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/15)</TD><TD CLASS="h">0%   (0/4)</TD></TR><TR><TD CLASS="bt"> </TD><TD CLASS="bt"> </TD><TD CLASS="bt"> </TD><TD CLASS="bt"> </TD><TD CLASS="bt"> </TD></TR><TR CLASS="cis"><TD CLASS="f">class <A HREF="#51">FacebookDialog$PendingCall$1</A></TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/3)</TD><TD CLASS="h">0%   (0/12)</TD><TD CLASS="h">0%   (0/3)</TD></TR><TR><TD CLASS="f"><A HREF="#51">FacebookDialog$PendingCall$1 (): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/3)</TD><TD CLASS="h">0%   (0/1)</TD></TR><TR CLASS="o"><TD CLASS="f"><A HREF="#53">createFromParcel (Parcel): FacebookDialog$PendingCall</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/6)</TD><TD CLASS="h">0%   (0/1)</TD></TR><TR><TD CLASS="f"><A HREF="#54">newArray (int): FacebookDialog$PendingCall []</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/3)</TD><TD CLASS="h">0%   (0/1)</TD></TR><TR><TD CLASS="bt"> </TD><TD CLASS="bt"> </TD><TD CLASS="bt"> </TD><TD CLASS="bt"> </TD><TD CLASS="bt"> </TD></TR><TR CLASS="cis"><TD CLASS="f">class <A HREF="#55">FacebookDialog$PhotoDialogBuilderBase</A></TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/7)</TD><TD CLASS="h">0%   (0/94)</TD><TD CLASS="h">0%   (0/26)</TD></TR><TR><TD CLASS="f"><A HREF="#55">FacebookDialog$PhotoDialogBuilderBase (Activity): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/9)</TD><TD CLASS="h">0%   (0/3)</TD></TR><TR CLASS="o"><TD CLASS="f"><A HREF="#57">addPhotoFiles (Collection): FacebookDialog$PhotoDialogBuilderBase</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/11)</TD><TD CLASS="h">0%   (0/3)</TD></TR><TR><TD CLASS="f"><A HREF="#58">addPhotos (Collection): FacebookDialog$PhotoDialogBuilderBase</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/11)</TD><TD CLASS="h">0%   (0/3)</TD></TR><TR CLASS="o"><TD CLASS="f"><A HREF="#59">setBundleExtras (Bundle): Bundle</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/34)</TD><TD CLASS="h">0%   (0/7)</TD></TR><TR><TD CLASS="f"><A HREF="#5a">setFriends (List): FacebookDialog$PhotoDialogBuilderBase</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/10)</TD><TD CLASS="h">0%   (0/3)</TD></TR><TR CLASS="o"><TD CLASS="f"><A HREF="#5b">setPlace (String): FacebookDialog$PhotoDialogBuilderBase</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/7)</TD><TD CLASS="h">0%   (0/3)</TD></TR><TR><TD CLASS="f"><A HREF="#5c">validate (): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/12)</TD><TD CLASS="h">0%   (0/4)</TD></TR><TR><TD CLASS="bt"> </TD><TD CLASS="bt"> </TD><TD CLASS="bt"> </TD><TD CLASS="bt"> </TD><TD CLASS="bt"> </TD></TR><TR CLASS="cis"><TD CLASS="f">class <A HREF="#5d">FacebookDialog$PhotoShareDialogBuilder</A></TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/2)</TD><TD CLASS="h">0%   (0/8)</TD><TD CLASS="h">0%   (0/3)</TD></TR><TR><TD CLASS="f"><A HREF="#5d">FacebookDialog$PhotoShareDialogBuilder (Activity): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/4)</TD><TD CLASS="h">0%   (0/2)</TD></TR><TR CLASS="o"><TD CLASS="f"><A HREF="#5f">getDialogFeatures (): EnumSet</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/4)</TD><TD CLASS="h">0%   (0/1)</TD></TR><TR><TD CLASS="bt"> </TD><TD CLASS="bt"> </TD><TD CLASS="bt"> </TD><TD CLASS="bt"> </TD><TD CLASS="bt"> </TD></TR><TR CLASS="cis"><TD CLASS="f">class <A HREF="#60">FacebookDialog$ShareDialogBuilder</A></TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/2)</TD><TD CLASS="h">0%   (0/7)</TD><TD CLASS="h">0%   (0/3)</TD></TR><TR><TD CLASS="f"><A HREF="#60">FacebookDialog$ShareDialogBuilder (Activity): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/4)</TD><TD CLASS="h">0%   (0/2)</TD></TR><TR CLASS="o"><TD CLASS="f"><A HREF="#62">getDialogFeatures (): EnumSet</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/3)</TD><TD CLASS="h">0%   (0/1)</TD></TR><TR><TD CLASS="bt"> </TD><TD CLASS="bt"> </TD><TD CLASS="bt"> </TD><TD CLASS="bt"> </TD><TD CLASS="bt"> </TD></TR><TR CLASS="cis"><TD CLASS="f">class <A HREF="#63">FacebookDialog$ShareDialogBuilderBase</A></TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/11)</TD><TD CLASS="h">0%   (0/146)</TD><TD CLASS="h">0%   (0/43)</TD></TR><TR><TD CLASS="f"><A HREF="#63">FacebookDialog$ShareDialogBuilderBase (Activity): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/4)</TD><TD CLASS="h">0%   (0/2)</TD></TR><TR CLASS="o"><TD CLASS="f"><A HREF="#65">setBundleExtras (Bundle): Bundle</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/76)</TD><TD CLASS="h">0%   (0/14)</TD></TR><TR><TD CLASS="f"><A HREF="#66">setCaption (String): FacebookDialog$ShareDialogBuilderBase</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/7)</TD><TD CLASS="h">0%   (0/3)</TD></TR><TR CLASS="o"><TD CLASS="f"><A HREF="#67">setDataErrorsFatal (boolean): FacebookDialog$ShareDialogBuilderBase</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/7)</TD><TD CLASS="h">0%   (0/3)</TD></TR><TR><TD CLASS="f"><A HREF="#68">setDescription (String): FacebookDialog$ShareDialogBuilderBase</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/7)</TD><TD CLASS="h">0%   (0/3)</TD></TR><TR CLASS="o"><TD CLASS="f"><A HREF="#69">setFriends (List): FacebookDialog$ShareDialogBuilderBase</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/10)</TD><TD CLASS="h">0%   (0/3)</TD></TR><TR><TD CLASS="f"><A HREF="#6a">setLink (String): FacebookDialog$ShareDialogBuilderBase</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/7)</TD><TD CLASS="h">0%   (0/3)</TD></TR><TR CLASS="o"><TD CLASS="f"><A HREF="#6b">setName (String): FacebookDialog$ShareDialogBuilderBase</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/7)</TD><TD CLASS="h">0%   (0/3)</TD></TR><TR><TD CLASS="f"><A HREF="#6c">setPicture (String): FacebookDialog$ShareDialogBuilderBase</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/7)</TD><TD CLASS="h">0%   (0/3)</TD></TR><TR CLASS="o"><TD CLASS="f"><A HREF="#6d">setPlace (String): FacebookDialog$ShareDialogBuilderBase</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/7)</TD><TD CLASS="h">0%   (0/3)</TD></TR><TR><TD CLASS="f"><A HREF="#6e">setRef (String): FacebookDialog$ShareDialogBuilderBase</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/7)</TD><TD CLASS="h">0%   (0/3)</TD></TR><TR><TD CLASS="bt"> </TD><TD CLASS="bt"> </TD><TD CLASS="bt"> </TD><TD CLASS="bt"> </TD><TD CLASS="bt"> </TD></TR><TR CLASS="cis"><TD CLASS="f">class <A HREF="#6f">FacebookDialog$ShareDialogFeature</A></TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/6)</TD><TD CLASS="h">0%   (0/48)</TD><TD CLASS="h">0%   (0/8)</TD></TR><TR><TD CLASS="f"><A HREF="#70">&lt;static initializer&gt;</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/26)</TD><TD CLASS="h">0%   (0/3)</TD></TR><TR CLASS="o"><TD CLASS="f"><A HREF="#71">FacebookDialog$ShareDialogFeature (String, int, int): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/8)</TD><TD CLASS="h">0%   (0/3)</TD></TR><TR><TD CLASS="f"><A HREF="#72">getAction (): String</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/2)</TD><TD CLASS="h">0%   (0/1)</TD></TR><TR CLASS="o"><TD CLASS="f"><A HREF="#73">getMinVersion (): int</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/3)</TD><TD CLASS="h">0%   (0/1)</TD></TR><TR><TD CLASS="f"><A HREF="#6f">valueOf (String): FacebookDialog$ShareDialogFeature</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/5)</TD><TD CLASS="h">0%   (0/1)</TD></TR><TR CLASS="o"><TD CLASS="f"><A HREF="#6f">values (): FacebookDialog$ShareDialogFeature []</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/4)</TD><TD CLASS="h">0%   (0/1)</TD></TR></TABLE><P></P><TABLE CLASS="s" CELLSPACING="0" WIDTH="100%"><TR><TD CLASS="l">1</TD><TD>/**</TD></TR><TR><TD CLASS="l">2</TD><TD> * Copyright 2010-present Facebook.</TD></TR><TR><TD CLASS="l">3</TD><TD> *</TD></TR><TR><TD CLASS="l">4</TD><TD> * Licensed under the Apache License, Version 2.0 (the &#34;License&#34;);</TD></TR><TR><TD CLASS="l">5</TD><TD> * you may not use this file except in compliance with the License.</TD></TR><TR><TD CLASS="l">6</TD><TD> * You may obtain a copy of the License at</TD></TR><TR><TD CLASS="l">7</TD><TD> *</TD></TR><TR><TD CLASS="l">8</TD><TD> *    http://www.apache.org/licenses/LICENSE-2.0</TD></TR><TR><TD CLASS="l">9</TD><TD> *</TD></TR><TR><TD CLASS="l">10</TD><TD> * Unless required by applicable law or agreed to in writing, software</TD></TR><TR><TD CLASS="l">11</TD><TD> * distributed under the License is distributed on an &#34;AS IS&#34; BASIS,</TD></TR><TR><TD CLASS="l">12</TD><TD> * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</TD></TR><TR><TD CLASS="l">13</TD><TD> * See the License for the specific language governing permissions and</TD></TR><TR><TD CLASS="l">14</TD><TD> * limitations under the License.</TD></TR><TR><TD CLASS="l">15</TD><TD> */</TD></TR><TR><TD CLASS="l">16</TD><TD> </TD></TR><TR><TD CLASS="l">17</TD><TD>package com.facebook.widget;</TD></TR><TR><TD CLASS="l">18</TD><TD> </TD></TR><TR><TD CLASS="l">19</TD><TD>import android.app.Activity;</TD></TR><TR><TD CLASS="l">20</TD><TD>import android.content.Context;</TD></TR><TR><TD CLASS="l">21</TD><TD>import android.content.Intent;</TD></TR><TR><TD CLASS="l">22</TD><TD>import android.graphics.Bitmap;</TD></TR><TR><TD CLASS="l">23</TD><TD>import android.os.Bundle;</TD></TR><TR><TD CLASS="l">24</TD><TD>import android.os.Parcel;</TD></TR><TR><TD CLASS="l">25</TD><TD>import android.os.Parcelable;</TD></TR><TR><TD CLASS="l">26</TD><TD>import android.support.v4.app.Fragment;</TD></TR><TR><TD CLASS="l">27</TD><TD>import com.facebook.*;</TD></TR><TR><TD CLASS="l">28</TD><TD>import com.facebook.internal.NativeProtocol;</TD></TR><TR><TD CLASS="l">29</TD><TD>import com.facebook.internal.Utility;</TD></TR><TR><TD CLASS="l">30</TD><TD>import com.facebook.internal.Validate;</TD></TR><TR><TD CLASS="l">31</TD><TD>import com.facebook.model.*;</TD></TR><TR><TD CLASS="l">32</TD><TD>import org.json.JSONArray;</TD></TR><TR><TD CLASS="l">33</TD><TD>import org.json.JSONException;</TD></TR><TR><TD CLASS="l">34</TD><TD>import org.json.JSONObject;</TD></TR><TR><TD CLASS="l">35</TD><TD> </TD></TR><TR><TD CLASS="l">36</TD><TD>import java.io.File;</TD></TR><TR><TD CLASS="l">37</TD><TD>import java.util.*;</TD></TR><TR><TD CLASS="l">38</TD><TD> </TD></TR><TR><TD CLASS="l">39</TD><TD>/*</TD></TR><TR><TD CLASS="l"><A NAME="0">40</A></TD><TD> * Provides an interface for presenting dialogs provided by the Facebook application for Android. This class</TD></TR><TR><TD CLASS="l">41</TD><TD> * provides builders that present a strongly-typed interface to generate properly-formed Intents for launching</TD></TR><TR><TD CLASS="l">42</TD><TD> * the appropriate Activities provided by the Facebook application.</TD></TR><TR><TD CLASS="l">43</TD><TD> */</TD></TR><TR CLASS="z"><TD CLASS="l">44</TD><TD>public class FacebookDialog {</TD></TR><TR><TD CLASS="l">45</TD><TD> </TD></TR><TR><TD CLASS="l">46</TD><TD>    public static final String COMPLETION_GESTURE_CANCEL = &#34;cancel&#34;;</TD></TR><TR><TD CLASS="l">47</TD><TD> </TD></TR><TR><TD CLASS="l">48</TD><TD>    private static final String EXTRA_DIALOG_COMPLETE_KEY = &#34;com.facebook.platform.extra.DID_COMPLETE&#34;;</TD></TR><TR><TD CLASS="l">49</TD><TD>    private static final String EXTRA_DIALOG_COMPLETION_GESTURE_KEY =</TD></TR><TR><TD CLASS="l">50</TD><TD>            &#34;com.facebook.platform.extra.COMPLETION_GESTURE&#34;;</TD></TR><TR><TD CLASS="l">51</TD><TD>    private static final String EXTRA_DIALOG_COMPLETION_ID_KEY = &#34;com.facebook.platform.extra.POST_ID&#34;;</TD></TR><TR><TD CLASS="l">52</TD><TD> </TD></TR><TR><TD CLASS="l">53</TD><TD>    private static NativeAppCallAttachmentStore attachmentStore;</TD></TR><TR><TD CLASS="l">54</TD><TD> </TD></TR><TR><TD CLASS="l">55</TD><TD>    /**</TD></TR><TR><TD CLASS="l">56</TD><TD>     * Defines a callback interface that will be called when the user completes interacting with a Facebook</TD></TR><TR><TD CLASS="l">57</TD><TD>     * dialog, or if an error occurs.</TD></TR><TR><TD CLASS="l">58</TD><TD>     */</TD></TR><TR><TD CLASS="l">59</TD><TD>    public interface Callback {</TD></TR><TR><TD CLASS="l">60</TD><TD>        /**</TD></TR><TR><TD CLASS="l">61</TD><TD>         * Called when the user completes interacting with a Facebook dialog.</TD></TR><TR><TD CLASS="l">62</TD><TD>         *</TD></TR><TR><TD CLASS="l">63</TD><TD>         * @param pendingCall a PendingCall containing the call ID and original Intent used to launch the dialog</TD></TR><TR><TD CLASS="l">64</TD><TD>         * @param data        a Bundle containing the results of the dialog, whose contents will vary depending on the</TD></TR><TR><TD CLASS="l">65</TD><TD>         *                    type of dialog being displayed.</TD></TR><TR><TD CLASS="l">66</TD><TD>         */</TD></TR><TR><TD CLASS="l">67</TD><TD>        void onComplete(PendingCall pendingCall, Bundle data);</TD></TR><TR><TD CLASS="l">68</TD><TD> </TD></TR><TR><TD CLASS="l">69</TD><TD>        /**</TD></TR><TR><TD CLASS="l">70</TD><TD>         * Called if an error occurred while presenting a Facebook dialog.</TD></TR><TR><TD CLASS="l">71</TD><TD>         *</TD></TR><TR><TD CLASS="l">72</TD><TD>         * @param pendingCall a PendingCall containing the call ID and original Intent used to launch the dialog</TD></TR><TR><TD CLASS="l">73</TD><TD>         * @param error       the error that occurred</TD></TR><TR><TD CLASS="l">74</TD><TD>         * @param data        the full set of extras associated with the activity result</TD></TR><TR><TD CLASS="l">75</TD><TD>         */</TD></TR><TR><TD CLASS="l">76</TD><TD>        void onError(PendingCall pendingCall, Exception error, Bundle data);</TD></TR><TR><TD CLASS="l">77</TD><TD>    }</TD></TR><TR><TD CLASS="l">78</TD><TD> </TD></TR><TR><TD CLASS="l">79</TD><TD>    private interface DialogFeature {</TD></TR><TR><TD CLASS="l">80</TD><TD>        String getAction();</TD></TR><TR><TD CLASS="l">81</TD><TD>        int getMinVersion();</TD></TR><TR><TD CLASS="l">82</TD><TD>    }</TD></TR><TR><TD CLASS="l">83</TD><TD> </TD></TR><TR><TD CLASS="l">84</TD><TD>    /**</TD></TR><TR><TD CLASS="l">85</TD><TD>     * Defines a set of features that may be supported by the native Share dialog exposed by the Facebook application.</TD></TR><TR><TD CLASS="l">86</TD><TD>     * As additional features are added, these flags may be passed to</TD></TR><TR><TD CLASS="l">87</TD><TD>     * {@link FacebookDialog#canPresentShareDialog(android.content.Context,</TD></TR><TR><TD CLASS="l">88</TD><TD>     * com.facebook.widget.FacebookDialog.ShareDialogFeature...)}</TD></TR><TR><TD CLASS="l"><A NAME="6f">89</A></TD><TD>     * to determine whether the version of the Facebook application installed on the user's device is recent</TD></TR><TR><TD CLASS="l">90</TD><TD>     * enough to support specific features, which in turn may be used to determine which UI, etc., to present to the</TD></TR><TR><TD CLASS="l">91</TD><TD>     * user.</TD></TR><TR><TD CLASS="l">92</TD><TD>     */</TD></TR><TR CLASS="z"><TD CLASS="l">93</TD><TD>    public enum ShareDialogFeature implements DialogFeature {</TD></TR><TR><TD CLASS="l"><A NAME="70">94</A></TD><TD>        /**</TD></TR><TR><TD CLASS="l">95</TD><TD>         * Indicates whether the native Share dialog itself is supported by the installed version of the</TD></TR><TR><TD CLASS="l">96</TD><TD>         * Facebook application.</TD></TR><TR><TD CLASS="l">97</TD><TD>         */</TD></TR><TR CLASS="z"><TD CLASS="l">98</TD><TD>        SHARE_DIALOG(NativeProtocol.PROTOCOL_VERSION_20130618),</TD></TR><TR><TD CLASS="l">99</TD><TD>        /**</TD></TR><TR><TD CLASS="l">100</TD><TD>         * Indicates whether the native Share dialog supports sharing of photo images.</TD></TR><TR><TD CLASS="l">101</TD><TD>         */</TD></TR><TR CLASS="z"><TD CLASS="l">102</TD><TD>        PHOTOS(NativeProtocol.PROTOCOL_VERSION_20140204),</TD></TR><TR><TD CLASS="l"><A NAME="71">103</A></TD><TD>        ;</TD></TR><TR><TD CLASS="l">104</TD><TD> </TD></TR><TR><TD CLASS="l">105</TD><TD>        private int minVersion;</TD></TR><TR><TD CLASS="l">106</TD><TD> </TD></TR><TR CLASS="z"><TD CLASS="l">107</TD><TD>        private ShareDialogFeature(int minVersion) {</TD></TR><TR CLASS="z"><TD CLASS="l">108</TD><TD>            this.minVersion = minVersion;</TD></TR><TR CLASS="z"><TD CLASS="l">109</TD><TD>        }</TD></TR><TR><TD CLASS="l">110</TD><TD> </TD></TR><TR><TD CLASS="l"><A NAME="72">111</A></TD><TD>        /**</TD></TR><TR><TD CLASS="l">112</TD><TD>         * This method is for internal use only.</TD></TR><TR><TD CLASS="l">113</TD><TD>         */</TD></TR><TR><TD CLASS="l">114</TD><TD>        public String getAction() {</TD></TR><TR CLASS="z"><TD CLASS="l">115</TD><TD>            return NativeProtocol.ACTION_FEED_DIALOG;</TD></TR><TR><TD CLASS="l">116</TD><TD>        }</TD></TR><TR><TD CLASS="l">117</TD><TD> </TD></TR><TR><TD CLASS="l"><A NAME="73">118</A></TD><TD>        /**</TD></TR><TR><TD CLASS="l">119</TD><TD>         * This method is for internal use only.</TD></TR><TR><TD CLASS="l">120</TD><TD>         */</TD></TR><TR><TD CLASS="l">121</TD><TD>        public int getMinVersion() {</TD></TR><TR CLASS="z"><TD CLASS="l">122</TD><TD>            return minVersion;</TD></TR><TR><TD CLASS="l">123</TD><TD>        }</TD></TR><TR><TD CLASS="l">124</TD><TD>    }</TD></TR><TR><TD CLASS="l">125</TD><TD> </TD></TR><TR><TD CLASS="l">126</TD><TD>    /**</TD></TR><TR><TD CLASS="l">127</TD><TD>     * Defines a set of features that may be supported by the native Open Graph dialogs exposed by the Facebook</TD></TR><TR><TD CLASS="l">128</TD><TD>     * application. As additional features are added, these flags may be passed to</TD></TR><TR><TD CLASS="l">129</TD><TD>     * {@link FacebookDialog#canPresentOpenGraphActionDialog(android.content.Context,</TD></TR><TR><TD CLASS="l">130</TD><TD>     * com.facebook.widget.FacebookDialog.OpenGraphActionDialogFeature...)}</TD></TR><TR><TD CLASS="l"><A NAME="2b">131</A></TD><TD>     * to determine whether the version of the Facebook application installed on the user's device is recent</TD></TR><TR><TD CLASS="l">132</TD><TD>     * enough to support specific features, which in turn may be used to determine which UI, etc., to present to the</TD></TR><TR><TD CLASS="l">133</TD><TD>     * user.</TD></TR><TR><TD CLASS="l">134</TD><TD>     */</TD></TR><TR CLASS="z"><TD CLASS="l">135</TD><TD>    public enum OpenGraphActionDialogFeature implements DialogFeature {</TD></TR><TR><TD CLASS="l"><A NAME="2c">136</A></TD><TD>        /**</TD></TR><TR><TD CLASS="l">137</TD><TD>         * Indicates whether the native Open Graph action dialog itself is supported by the installed version of the</TD></TR><TR><TD CLASS="l">138</TD><TD>         * Facebook application.</TD></TR><TR><TD CLASS="l">139</TD><TD>         */</TD></TR><TR CLASS="z"><TD CLASS="l"><A NAME="2d">140</A></TD><TD>        OG_ACTION_DIALOG(NativeProtocol.PROTOCOL_VERSION_20130618);</TD></TR><TR><TD CLASS="l">141</TD><TD> </TD></TR><TR><TD CLASS="l">142</TD><TD>        private int minVersion;</TD></TR><TR><TD CLASS="l">143</TD><TD> </TD></TR><TR CLASS="z"><TD CLASS="l">144</TD><TD>        private OpenGraphActionDialogFeature(int minVersion) {</TD></TR><TR CLASS="z"><TD CLASS="l">145</TD><TD>            this.minVersion = minVersion;</TD></TR><TR CLASS="z"><TD CLASS="l">146</TD><TD>        }</TD></TR><TR><TD CLASS="l">147</TD><TD> </TD></TR><TR><TD CLASS="l"><A NAME="2e">148</A></TD><TD>        /**</TD></TR><TR><TD CLASS="l">149</TD><TD>         * This method is for internal use only.</TD></TR><TR><TD CLASS="l">150</TD><TD>         */</TD></TR><TR><TD CLASS="l">151</TD><TD>        public String getAction() {</TD></TR><TR CLASS="z"><TD CLASS="l">152</TD><TD>            return NativeProtocol.ACTION_OGACTIONPUBLISH_DIALOG;</TD></TR><TR><TD CLASS="l">153</TD><TD>        }</TD></TR><TR><TD CLASS="l">154</TD><TD> </TD></TR><TR><TD CLASS="l"><A NAME="2f">155</A></TD><TD>        /**</TD></TR><TR><TD CLASS="l">156</TD><TD>         * This method is for internal use only.</TD></TR><TR><TD CLASS="l">157</TD><TD>         */</TD></TR><TR><TD CLASS="l">158</TD><TD>        public int getMinVersion() {</TD></TR><TR CLASS="z"><TD CLASS="l">159</TD><TD>            return minVersion;</TD></TR><TR><TD CLASS="l">160</TD><TD>        }</TD></TR><TR><TD CLASS="l">161</TD><TD>    }</TD></TR><TR><TD CLASS="l">162</TD><TD> </TD></TR><TR><TD CLASS="l">163</TD><TD>    interface OnPresentCallback {</TD></TR><TR><TD CLASS="l">164</TD><TD>        void onPresent(Context context) throws Exception;</TD></TR><TR><TD CLASS="l">165</TD><TD>    }</TD></TR><TR><TD CLASS="l">166</TD><TD> </TD></TR><TR><TD CLASS="l">167</TD><TD>    /**</TD></TR><TR><TD CLASS="l">168</TD><TD>     * Determines whether the native dialog completed normally (without error or exception).</TD></TR><TR><TD CLASS="l">169</TD><TD>     *</TD></TR><TR><TD CLASS="l"><A NAME="e">170</A></TD><TD>     * @param result the bundle passed back to onActivityResult</TD></TR><TR><TD CLASS="l">171</TD><TD>     * @return true if the native dialog completed normally</TD></TR><TR><TD CLASS="l">172</TD><TD>     */</TD></TR><TR><TD CLASS="l">173</TD><TD>    public static boolean getNativeDialogDidComplete(Bundle result) {</TD></TR><TR CLASS="z"><TD CLASS="l">174</TD><TD>        return result.getBoolean(EXTRA_DIALOG_COMPLETE_KEY, false);</TD></TR><TR><TD CLASS="l">175</TD><TD>    }</TD></TR><TR><TD CLASS="l">176</TD><TD> </TD></TR><TR><TD CLASS="l">177</TD><TD>    /**</TD></TR><TR><TD CLASS="l">178</TD><TD>     * Returns the gesture with which the user completed the native dialog. This is only returned if the</TD></TR><TR><TD CLASS="l">179</TD><TD>     * user has previously authorized the calling app with basic permissions.</TD></TR><TR><TD CLASS="l">180</TD><TD>     *</TD></TR><TR><TD CLASS="l"><A NAME="d">181</A></TD><TD>     * @param result the bundle passed back to onActivityResult</TD></TR><TR><TD CLASS="l">182</TD><TD>     * @return &#34;post&#34; or &#34;cancel&#34; as the completion gesture</TD></TR><TR><TD CLASS="l">183</TD><TD>     */</TD></TR><TR><TD CLASS="l">184</TD><TD>    public static String getNativeDialogCompletionGesture(Bundle result) {</TD></TR><TR CLASS="z"><TD CLASS="l">185</TD><TD>        return result.getString(EXTRA_DIALOG_COMPLETION_GESTURE_KEY);</TD></TR><TR><TD CLASS="l">186</TD><TD>    }</TD></TR><TR><TD CLASS="l">187</TD><TD> </TD></TR><TR><TD CLASS="l">188</TD><TD>    /**</TD></TR><TR><TD CLASS="l">189</TD><TD>     * Returns the id of the published post. This is only returned if the user has previously given the</TD></TR><TR><TD CLASS="l">190</TD><TD>     * app publish permissions.</TD></TR><TR><TD CLASS="l">191</TD><TD>     *</TD></TR><TR><TD CLASS="l"><A NAME="f">192</A></TD><TD>     * @param result the bundle passed back to onActivityResult</TD></TR><TR><TD CLASS="l">193</TD><TD>     * @return the id of the published post</TD></TR><TR><TD CLASS="l">194</TD><TD>     */</TD></TR><TR><TD CLASS="l">195</TD><TD>    public static String getNativeDialogPostId(Bundle result) {</TD></TR><TR CLASS="z"><TD CLASS="l">196</TD><TD>        return result.getString(EXTRA_DIALOG_COMPLETION_ID_KEY);</TD></TR><TR><TD CLASS="l">197</TD><TD>    }</TD></TR><TR><TD CLASS="l">198</TD><TD> </TD></TR><TR><TD CLASS="l">199</TD><TD>    private Activity activity;</TD></TR><TR><TD CLASS="l">200</TD><TD>    private Fragment fragment;</TD></TR><TR><TD CLASS="l"><A NAME="1">201</A></TD><TD>    private PendingCall appCall;</TD></TR><TR><TD CLASS="l">202</TD><TD>    private OnPresentCallback onPresentCallback;</TD></TR><TR><TD CLASS="l">203</TD><TD> </TD></TR><TR><TD CLASS="l">204</TD><TD>    private FacebookDialog(Activity activity, Fragment fragment, PendingCall appCall,</TD></TR><TR CLASS="z"><TD CLASS="l">205</TD><TD>            OnPresentCallback onPresentCallback) {</TD></TR><TR CLASS="z"><TD CLASS="l">206</TD><TD>        this.activity = activity;</TD></TR><TR CLASS="z"><TD CLASS="l">207</TD><TD>        this.fragment = fragment;</TD></TR><TR CLASS="z"><TD CLASS="l">208</TD><TD>        this.appCall = appCall;</TD></TR><TR CLASS="z"><TD CLASS="l">209</TD><TD>        this.onPresentCallback = onPresentCallback;</TD></TR><TR CLASS="z"><TD CLASS="l">210</TD><TD>    }</TD></TR><TR><TD CLASS="l">211</TD><TD> </TD></TR><TR><TD CLASS="l">212</TD><TD>    /**</TD></TR><TR><TD CLASS="l">213</TD><TD>     * Launches an activity in the Facebook application to present the desired dialog. This method returns a</TD></TR><TR><TD CLASS="l">214</TD><TD>     * PendingCall that contains a unique ID associated with this call to the Facebook application. In general,</TD></TR><TR><TD CLASS="l">215</TD><TD>     * a calling Activity should use UiLifecycleHelper to handle incoming activity results, in order to ensure</TD></TR><TR><TD CLASS="l">216</TD><TD>     * proper processing of the results from this dialog.</TD></TR><TR><TD CLASS="l"><A NAME="13">217</A></TD><TD>     *</TD></TR><TR><TD CLASS="l">218</TD><TD>     * @return a PendingCall containing the unique call ID corresponding to this call to the Facebook application</TD></TR><TR><TD CLASS="l">219</TD><TD>     */</TD></TR><TR><TD CLASS="l">220</TD><TD>    public PendingCall present() {</TD></TR><TR CLASS="z"><TD CLASS="l">221</TD><TD>        if (onPresentCallback != null) {</TD></TR><TR><TD CLASS="l">222</TD><TD>            try {</TD></TR><TR CLASS="z"><TD CLASS="l">223</TD><TD>                onPresentCallback.onPresent(activity);</TD></TR><TR CLASS="z"><TD CLASS="l">224</TD><TD>            } catch (Exception e) {</TD></TR><TR CLASS="z"><TD CLASS="l">225</TD><TD>                throw new FacebookException(e);</TD></TR><TR CLASS="z"><TD CLASS="l">226</TD><TD>            }</TD></TR><TR><TD CLASS="l">227</TD><TD>        }</TD></TR><TR><TD CLASS="l">228</TD><TD> </TD></TR><TR CLASS="z"><TD CLASS="l">229</TD><TD>        if (fragment != null) {</TD></TR><TR CLASS="z"><TD CLASS="l">230</TD><TD>            fragment.startActivityForResult(appCall.getRequestIntent(), appCall.getRequestCode());</TD></TR><TR><TD CLASS="l">231</TD><TD>        } else {</TD></TR><TR CLASS="z"><TD CLASS="l">232</TD><TD>            activity.startActivityForResult(appCall.getRequestIntent(), appCall.getRequestCode());</TD></TR><TR><TD CLASS="l">233</TD><TD>        }</TD></TR><TR CLASS="z"><TD CLASS="l">234</TD><TD>        return appCall;</TD></TR><TR><TD CLASS="l">235</TD><TD>    }</TD></TR><TR><TD CLASS="l">236</TD><TD> </TD></TR><TR><TD CLASS="l">237</TD><TD>    /**</TD></TR><TR><TD CLASS="l">238</TD><TD>     * Parses the results of a dialog activity and calls the appropriate method on the provided Callback.</TD></TR><TR><TD CLASS="l">239</TD><TD>     *</TD></TR><TR><TD CLASS="l">240</TD><TD>     * @param context     the Context that is handling the activity result</TD></TR><TR><TD CLASS="l">241</TD><TD>     * @param appCall     an PendingCall containing the call ID and original Intent used to launch the dialog</TD></TR><TR><TD CLASS="l">242</TD><TD>     * @param requestCode the request code for the activity result</TD></TR><TR><TD CLASS="l">243</TD><TD>     * @param data        the result Intent</TD></TR><TR><TD CLASS="l">244</TD><TD>     * @param callback    a callback to call after parsing the results</TD></TR><TR><TD CLASS="l"><A NAME="11">245</A></TD><TD>     * @return true if the activity result was handled, false if not</TD></TR><TR><TD CLASS="l">246</TD><TD>     */</TD></TR><TR><TD CLASS="l">247</TD><TD>    public static boolean handleActivityResult(Context context, PendingCall appCall, int requestCode, Intent data,</TD></TR><TR><TD CLASS="l">248</TD><TD>            Callback callback) {</TD></TR><TR CLASS="z"><TD CLASS="l">249</TD><TD>        if (requestCode != appCall.getRequestCode()) {</TD></TR><TR CLASS="z"><TD CLASS="l">250</TD><TD>            return false;</TD></TR><TR><TD CLASS="l">251</TD><TD>        }</TD></TR><TR><TD CLASS="l">252</TD><TD> </TD></TR><TR CLASS="z"><TD CLASS="l">253</TD><TD>        if (attachmentStore != null) {</TD></TR><TR CLASS="z"><TD CLASS="l">254</TD><TD>            attachmentStore.cleanupAttachmentsForCall(context, appCall.getCallId());</TD></TR><TR><TD CLASS="l">255</TD><TD>        }</TD></TR><TR><TD CLASS="l">256</TD><TD> </TD></TR><TR CLASS="z"><TD CLASS="l">257</TD><TD>        if (callback != null) {</TD></TR><TR CLASS="z"><TD CLASS="l">258</TD><TD>            if (NativeProtocol.isErrorResult(data)) {</TD></TR><TR CLASS="z"><TD CLASS="l">259</TD><TD>                Exception error = NativeProtocol.getErrorFromResult(data);</TD></TR><TR CLASS="z"><TD CLASS="l">260</TD><TD>                callback.onError(appCall, error, data.getExtras());</TD></TR><TR CLASS="z"><TD CLASS="l">261</TD><TD>            } else {</TD></TR><TR CLASS="z"><TD CLASS="l">262</TD><TD>                callback.onComplete(appCall, data.getExtras());</TD></TR><TR><TD CLASS="l">263</TD><TD>            }</TD></TR><TR><TD CLASS="l">264</TD><TD>        }</TD></TR><TR><TD CLASS="l">265</TD><TD> </TD></TR><TR CLASS="z"><TD CLASS="l">266</TD><TD>        return true;</TD></TR><TR><TD CLASS="l">267</TD><TD>    }</TD></TR><TR><TD CLASS="l">268</TD><TD> </TD></TR><TR><TD CLASS="l">269</TD><TD>    /**</TD></TR><TR><TD CLASS="l">270</TD><TD>     * Determines whether the version of the Facebook application installed on the user's device is recent</TD></TR><TR><TD CLASS="l">271</TD><TD>     * enough to support specific features of the native Share dialog, which in turn may be used to determine</TD></TR><TR><TD CLASS="l">272</TD><TD>     * which UI, etc., to present to the user.</TD></TR><TR><TD CLASS="l">273</TD><TD>     *</TD></TR><TR><TD CLASS="l">274</TD><TD>     * @param context  the calling Context</TD></TR><TR><TD CLASS="l">275</TD><TD>     * @param features zero or more features to check for; {@link ShareDialogFeature#SHARE_DIALOG} is implicitly checked</TD></TR><TR><TD CLASS="l">276</TD><TD>     *                 if not explicitly specified</TD></TR><TR><TD CLASS="l"><A NAME="9">277</A></TD><TD>     * @return true if all of the specified features are supported by the currently installed version of the</TD></TR><TR><TD CLASS="l">278</TD><TD>     *         Facebook application; false if any of the features are not supported</TD></TR><TR><TD CLASS="l">279</TD><TD>     */</TD></TR><TR><TD CLASS="l">280</TD><TD>    public static boolean canPresentShareDialog(Context context, ShareDialogFeature... features) {</TD></TR><TR CLASS="z"><TD CLASS="l">281</TD><TD>        return handleCanPresent(context, EnumSet.of(ShareDialogFeature.SHARE_DIALOG, features));</TD></TR><TR><TD CLASS="l">282</TD><TD>    }</TD></TR><TR><TD CLASS="l">283</TD><TD> </TD></TR><TR><TD CLASS="l">284</TD><TD>    /**</TD></TR><TR><TD CLASS="l">285</TD><TD>     * Determines whether the version of the Facebook application installed on the user's device is recent</TD></TR><TR><TD CLASS="l">286</TD><TD>     * enough to support specific features of the native Open Graph action dialog, which in turn may be used to</TD></TR><TR><TD CLASS="l">287</TD><TD>     * determine which UI, etc., to present to the user.</TD></TR><TR><TD CLASS="l">288</TD><TD>     *</TD></TR><TR><TD CLASS="l">289</TD><TD>     * @param context  the calling Context</TD></TR><TR><TD CLASS="l">290</TD><TD>     * @param features zero or more features to check for; {@link OpenGraphActionDialogFeature#OG_ACTION_DIALOG} is implicitly</TD></TR><TR><TD CLASS="l">291</TD><TD>     *                 checked if not explicitly specified</TD></TR><TR><TD CLASS="l"><A NAME="8">292</A></TD><TD>     * @return true if all of the specified features are supported by the currently installed version of the</TD></TR><TR><TD CLASS="l">293</TD><TD>     *         Facebook application; false if any of the features are not supported</TD></TR><TR><TD CLASS="l">294</TD><TD>     */</TD></TR><TR><TD CLASS="l">295</TD><TD>    public static boolean canPresentOpenGraphActionDialog(Context context, OpenGraphActionDialogFeature... features) {</TD></TR><TR CLASS="z"><TD CLASS="l"><A NAME="12">296</A></TD><TD>        return handleCanPresent(context, EnumSet.of(OpenGraphActionDialogFeature.OG_ACTION_DIALOG, features));</TD></TR><TR><TD CLASS="l">297</TD><TD>    }</TD></TR><TR><TD CLASS="l">298</TD><TD> </TD></TR><TR><TD CLASS="l">299</TD><TD>    private static boolean handleCanPresent(Context context, Iterable&lt;? extends DialogFeature&gt; features) {</TD></TR><TR CLASS="z"><TD CLASS="l">300</TD><TD>        return getProtocolVersionForNativeDialog(context, getActionForFeatures(features), getMinVersionForFeatures(features))</TD></TR><TR><TD CLASS="l"><A NAME="10">301</A></TD><TD>                != NativeProtocol.NO_PROTOCOL_AVAILABLE;</TD></TR><TR><TD CLASS="l">302</TD><TD>    }</TD></TR><TR><TD CLASS="l">303</TD><TD> </TD></TR><TR><TD CLASS="l">304</TD><TD>    private static int getProtocolVersionForNativeDialog(Context context, String action, int requiredVersion) {</TD></TR><TR CLASS="z"><TD CLASS="l"><A NAME="b">305</A></TD><TD>        return NativeProtocol.getLatestAvailableProtocolVersionForAction(context, action, requiredVersion);</TD></TR><TR><TD CLASS="l">306</TD><TD>    }</TD></TR><TR><TD CLASS="l">307</TD><TD> </TD></TR><TR><TD CLASS="l">308</TD><TD>    private static NativeAppCallAttachmentStore getAttachmentStore() {</TD></TR><TR CLASS="z"><TD CLASS="l">309</TD><TD>        if (attachmentStore == null) {</TD></TR><TR CLASS="z"><TD CLASS="l">310</TD><TD>            attachmentStore = new NativeAppCallAttachmentStore();</TD></TR><TR><TD CLASS="l">311</TD><TD>        }</TD></TR><TR CLASS="z"><TD CLASS="l"><A NAME="c">312</A></TD><TD>        return attachmentStore;</TD></TR><TR><TD CLASS="l">313</TD><TD>    }</TD></TR><TR><TD CLASS="l">314</TD><TD> </TD></TR><TR><TD CLASS="l">315</TD><TD>    private static int getMinVersionForFeatures(Iterable&lt;? extends DialogFeature&gt; features) {</TD></TR><TR CLASS="z"><TD CLASS="l">316</TD><TD>        int minVersion = Integer.MIN_VALUE;</TD></TR><TR CLASS="z"><TD CLASS="l">317</TD><TD>        for (DialogFeature feature : features) {</TD></TR><TR><TD CLASS="l">318</TD><TD>            // Minimum version to support all features is the maximum of each feature's minimum version.</TD></TR><TR CLASS="z"><TD CLASS="l">319</TD><TD>            minVersion = Math.max(minVersion, feature.getMinVersion());</TD></TR><TR CLASS="z"><TD CLASS="l">320</TD><TD>        }</TD></TR><TR CLASS="z"><TD CLASS="l"><A NAME="a">321</A></TD><TD>        return minVersion;</TD></TR><TR><TD CLASS="l">322</TD><TD>    }</TD></TR><TR><TD CLASS="l">323</TD><TD> </TD></TR><TR><TD CLASS="l">324</TD><TD>    private static String getActionForFeatures(Iterable&lt;? extends DialogFeature&gt; features) {</TD></TR><TR CLASS="z"><TD CLASS="l">325</TD><TD>        String action = null;</TD></TR><TR CLASS="z"><TD CLASS="l">326</TD><TD>        for (DialogFeature feature : features) {</TD></TR><TR><TD CLASS="l">327</TD><TD>            // All actions in a set of DialogFeatures should have the same action</TD></TR><TR><TD CLASS="l">328</TD><TD>            // So we can break after assigning the first one</TD></TR><TR CLASS="z"><TD CLASS="l">329</TD><TD>            action = feature.getAction();</TD></TR><TR CLASS="z"><TD CLASS="l">330</TD><TD>            break;</TD></TR><TR><TD CLASS="l">331</TD><TD>        }</TD></TR><TR CLASS="z"><TD CLASS="l">332</TD><TD>        return action;</TD></TR><TR><TD CLASS="l">333</TD><TD>    }</TD></TR><TR><TD CLASS="l">334</TD><TD> </TD></TR><TR><TD CLASS="l">335</TD><TD>    abstract static class Builder&lt;CONCRETE extends Builder&lt;?&gt;&gt; {</TD></TR><TR><TD CLASS="l">336</TD><TD>        final protected Activity activity;</TD></TR><TR><TD CLASS="l">337</TD><TD>        final protected String applicationId;</TD></TR><TR><TD CLASS="l">338</TD><TD>        final protected PendingCall appCall;</TD></TR><TR><TD CLASS="l">339</TD><TD>        protected Fragment fragment;</TD></TR><TR><TD CLASS="l"><A NAME="15">340</A></TD><TD>        protected String applicationName;</TD></TR><TR CLASS="z"><TD CLASS="l">341</TD><TD>        protected HashMap&lt;String, Bitmap&gt; imageAttachments = new HashMap&lt;String, Bitmap&gt;();</TD></TR><TR CLASS="z"><TD CLASS="l">342</TD><TD>        protected HashMap&lt;String, File&gt; imageAttachmentFiles = new HashMap&lt;String, File&gt;();</TD></TR><TR><TD CLASS="l">343</TD><TD> </TD></TR><TR CLASS="z"><TD CLASS="l">344</TD><TD>        Builder(Activity activity) {</TD></TR><TR CLASS="z"><TD CLASS="l">345</TD><TD>            Validate.notNull(activity, &#34;activity&#34;);</TD></TR><TR><TD CLASS="l">346</TD><TD> </TD></TR><TR CLASS="z"><TD CLASS="l">347</TD><TD>            this.activity = activity;</TD></TR><TR CLASS="z"><TD CLASS="l">348</TD><TD>            applicationId = Utility.getMetadataApplicationId(activity);</TD></TR><TR CLASS="z"><TD CLASS="l">349</TD><TD>            appCall = new PendingCall(NativeProtocol.DIALOG_REQUEST_CODE);</TD></TR><TR CLASS="z"><TD CLASS="l">350</TD><TD>        }</TD></TR><TR><TD CLASS="l">351</TD><TD> </TD></TR><TR><TD CLASS="l">352</TD><TD>        /**</TD></TR><TR><TD CLASS="l">353</TD><TD>         * Sets the request code that will be passed to handleActivityResult when this activity completes; the</TD></TR><TR><TD CLASS="l">354</TD><TD>         * default is NativeProtocol.DIALOG_REQUEST_CODE.</TD></TR><TR><TD CLASS="l">355</TD><TD>         *</TD></TR><TR><TD CLASS="l"><A NAME="22">356</A></TD><TD>         * @param requestCode the request code</TD></TR><TR><TD CLASS="l">357</TD><TD>         * @return this instance of the builder</TD></TR><TR><TD CLASS="l">358</TD><TD>         */</TD></TR><TR><TD CLASS="l">359</TD><TD>        public CONCRETE setRequestCode(int requestCode) {</TD></TR><TR CLASS="z"><TD CLASS="l">360</TD><TD>            this.appCall.setRequestCode(requestCode);</TD></TR><TR><TD CLASS="l">361</TD><TD>            @SuppressWarnings(&#34;unchecked&#34;)</TD></TR><TR CLASS="z"><TD CLASS="l">362</TD><TD>            CONCRETE result = (CONCRETE) this;</TD></TR><TR CLASS="z"><TD CLASS="l">363</TD><TD>            return result;</TD></TR><TR><TD CLASS="l">364</TD><TD>        }</TD></TR><TR><TD CLASS="l">365</TD><TD> </TD></TR><TR><TD CLASS="l">366</TD><TD>        /**</TD></TR><TR><TD CLASS="l">367</TD><TD>         * Sets the name of the application to be displayed in the dialog. If provided, this optimizes the user</TD></TR><TR><TD CLASS="l">368</TD><TD>         * experience as a preview of a shared item, etc., can be displayed sooner.</TD></TR><TR><TD CLASS="l">369</TD><TD>         *</TD></TR><TR><TD CLASS="l"><A NAME="20">370</A></TD><TD>         * @param applicationName the name of the Facebook application</TD></TR><TR><TD CLASS="l">371</TD><TD>         * @return this instance of the builder</TD></TR><TR><TD CLASS="l">372</TD><TD>         */</TD></TR><TR><TD CLASS="l">373</TD><TD>        public CONCRETE setApplicationName(String applicationName) {</TD></TR><TR CLASS="z"><TD CLASS="l">374</TD><TD>            this.applicationName = applicationName;</TD></TR><TR><TD CLASS="l">375</TD><TD>            @SuppressWarnings(&#34;unchecked&#34;)</TD></TR><TR CLASS="z"><TD CLASS="l">376</TD><TD>            CONCRETE result = (CONCRETE) this;</TD></TR><TR CLASS="z"><TD CLASS="l">377</TD><TD>            return result;</TD></TR><TR><TD CLASS="l">378</TD><TD>        }</TD></TR><TR><TD CLASS="l">379</TD><TD> </TD></TR><TR><TD CLASS="l">380</TD><TD>        /**</TD></TR><TR><TD CLASS="l">381</TD><TD>         * Sets the fragment that should launch the dialog. This allows the dialog to be</TD></TR><TR><TD CLASS="l">382</TD><TD>         * launched from a Fragment, and will allow the fragment to receive the</TD></TR><TR><TD CLASS="l">383</TD><TD>         * {@link Fragment#onActivityResult(int, int, android.content.Intent) onActivityResult}</TD></TR><TR><TD CLASS="l">384</TD><TD>         * call rather than the Activity.</TD></TR><TR><TD CLASS="l"><A NAME="21">385</A></TD><TD>         *</TD></TR><TR><TD CLASS="l">386</TD><TD>         * @param fragment the fragment that contains this control</TD></TR><TR><TD CLASS="l">387</TD><TD>         */</TD></TR><TR><TD CLASS="l">388</TD><TD>        public CONCRETE setFragment(Fragment fragment) {</TD></TR><TR CLASS="z"><TD CLASS="l">389</TD><TD>            this.fragment = fragment;</TD></TR><TR><TD CLASS="l">390</TD><TD>            @SuppressWarnings(&#34;unchecked&#34;)</TD></TR><TR CLASS="z"><TD CLASS="l">391</TD><TD>            CONCRETE result = (CONCRETE) this;</TD></TR><TR CLASS="z"><TD CLASS="l">392</TD><TD>            return result;</TD></TR><TR><TD CLASS="l">393</TD><TD>        }</TD></TR><TR><TD CLASS="l">394</TD><TD> </TD></TR><TR><TD CLASS="l">395</TD><TD>        /**</TD></TR><TR><TD CLASS="l">396</TD><TD>         * Constructs a FacebookDialog with an Intent that is correctly populated to present the dialog within</TD></TR><TR><TD CLASS="l">397</TD><TD>         * the Facebook application.</TD></TR><TR><TD CLASS="l"><A NAME="1b">398</A></TD><TD>         *</TD></TR><TR><TD CLASS="l">399</TD><TD>         * @return a FacebookDialog instance</TD></TR><TR><TD CLASS="l">400</TD><TD>         */</TD></TR><TR><TD CLASS="l">401</TD><TD>        public FacebookDialog build() {</TD></TR><TR CLASS="z"><TD CLASS="l">402</TD><TD>            validate();</TD></TR><TR><TD CLASS="l">403</TD><TD> </TD></TR><TR CLASS="z"><TD CLASS="l">404</TD><TD>            Bundle extras = new Bundle();</TD></TR><TR CLASS="z"><TD CLASS="l">405</TD><TD>            putExtra(extras, NativeProtocol.EXTRA_APPLICATION_ID, applicationId);</TD></TR><TR CLASS="z"><TD CLASS="l">406</TD><TD>            putExtra(extras, NativeProtocol.EXTRA_APPLICATION_NAME, applicationName);</TD></TR><TR CLASS="z"><TD CLASS="l">407</TD><TD>            extras = setBundleExtras(extras);</TD></TR><TR><TD CLASS="l">408</TD><TD> </TD></TR><TR CLASS="z"><TD CLASS="l">409</TD><TD>            String action = getActionForFeatures(getDialogFeatures());</TD></TR><TR CLASS="z"><TD CLASS="l">410</TD><TD>            int protocolVersion = getProtocolVersionForNativeDialog(activity, action,</TD></TR><TR><TD CLASS="l">411</TD><TD>                    getMinVersionForFeatures(getDialogFeatures()));</TD></TR><TR><TD CLASS="l">412</TD><TD> </TD></TR><TR CLASS="z"><TD CLASS="l">413</TD><TD>            Intent intent = NativeProtocol.createPlatformActivityIntent(activity, action, protocolVersion, extras);</TD></TR><TR CLASS="z"><TD CLASS="l">414</TD><TD>            if (intent == null) {</TD></TR><TR CLASS="z"><TD CLASS="l">415</TD><TD>                throw new FacebookException(</TD></TR><TR><TD CLASS="l">416</TD><TD>                        &#34;Unable to create Intent; this likely means the Facebook app is not installed.&#34;);</TD></TR><TR><TD CLASS="l">417</TD><TD>            }</TD></TR><TR CLASS="z"><TD CLASS="l">418</TD><TD>            appCall.setRequestIntent(intent);</TD></TR><TR><TD CLASS="l">419</TD><TD> </TD></TR><TR CLASS="z"><TD CLASS="l">420</TD><TD>            return new FacebookDialog(activity, fragment, appCall, getOnPresentCallback());</TD></TR><TR><TD CLASS="l">421</TD><TD>        }</TD></TR><TR><TD CLASS="l">422</TD><TD> </TD></TR><TR><TD CLASS="l">423</TD><TD>        /**</TD></TR><TR><TD CLASS="l">424</TD><TD>         * Determines whether the native dialog can be presented (i.e., whether the required version of the</TD></TR><TR><TD CLASS="l">425</TD><TD>         * Facebook application is installed on the device, and whether the installed version supports all of</TD></TR><TR><TD CLASS="l">426</TD><TD>         * the parameters specified for the dialog).</TD></TR><TR><TD CLASS="l"><A NAME="1c">427</A></TD><TD>         *</TD></TR><TR><TD CLASS="l">428</TD><TD>         * @return true if the dialog can be presented; false if not</TD></TR><TR><TD CLASS="l">429</TD><TD>         */</TD></TR><TR><TD CLASS="l">430</TD><TD>        public boolean canPresent() {</TD></TR><TR CLASS="z"><TD CLASS="l"><A NAME="23">431</A></TD><TD>            return handleCanPresent(activity, getDialogFeatures());</TD></TR><TR><TD CLASS="l">432</TD><TD>        }</TD></TR><TR><TD CLASS="l">433</TD><TD> </TD></TR><TR><TD CLASS="l"><A NAME="1e">434</A></TD><TD>        void validate() {</TD></TR><TR CLASS="z"><TD CLASS="l">435</TD><TD>        }</TD></TR><TR><TD CLASS="l">436</TD><TD> </TD></TR><TR><TD CLASS="l">437</TD><TD>        OnPresentCallback getOnPresentCallback() {</TD></TR><TR CLASS="z"><TD CLASS="l"><A NAME="26">438</A></TD><TD>            return new OnPresentCallback() {</TD></TR><TR><TD CLASS="l">439</TD><TD>                @Override</TD></TR><TR><TD CLASS="l">440</TD><TD>                public void onPresent(Context context) throws Exception {</TD></TR><TR><TD CLASS="l">441</TD><TD>                    // We're actually being presented, so put our attachments in the content provider.</TD></TR><TR CLASS="z"><TD CLASS="l">442</TD><TD>                    if (imageAttachments != null &amp;&amp; imageAttachments.size() &gt; 0) {</TD></TR><TR CLASS="z"><TD CLASS="l">443</TD><TD>                        getAttachmentStore().addAttachmentsForCall(context, appCall.getCallId(), imageAttachments);</TD></TR><TR><TD CLASS="l">444</TD><TD>                    }</TD></TR><TR CLASS="z"><TD CLASS="l">445</TD><TD>                    if (imageAttachmentFiles != null &amp;&amp; imageAttachmentFiles.size() &gt; 0) {</TD></TR><TR CLASS="z"><TD CLASS="l">446</TD><TD>                        getAttachmentStore().addAttachmentFilesForCall(context, appCall.getCallId(),</TD></TR><TR><TD CLASS="l">447</TD><TD>                                imageAttachmentFiles);</TD></TR><TR><TD CLASS="l">448</TD><TD>                    }</TD></TR><TR CLASS="z"><TD CLASS="l">449</TD><TD>                }</TD></TR><TR><TD CLASS="l"><A NAME="1a">450</A></TD><TD>            };</TD></TR><TR><TD CLASS="l">451</TD><TD>        }</TD></TR><TR><TD CLASS="l">452</TD><TD> </TD></TR><TR><TD CLASS="l">453</TD><TD>        protected List&lt;String&gt; addImageAttachments(Collection&lt;Bitmap&gt; bitmaps) {</TD></TR><TR CLASS="z"><TD CLASS="l">454</TD><TD>            ArrayList&lt;String&gt; attachmentUrls = new ArrayList&lt;String&gt;();</TD></TR><TR CLASS="z"><TD CLASS="l">455</TD><TD>            for (Bitmap bitmap : bitmaps) {</TD></TR><TR CLASS="z"><TD CLASS="l">456</TD><TD>                String attachmentName = UUID.randomUUID().toString();</TD></TR><TR><TD CLASS="l">457</TD><TD> </TD></TR><TR CLASS="z"><TD CLASS="l">458</TD><TD>                addImageAttachment(attachmentName, bitmap);</TD></TR><TR><TD CLASS="l">459</TD><TD> </TD></TR><TR CLASS="z"><TD CLASS="l">460</TD><TD>                String url = NativeAppCallContentProvider.getAttachmentUrl(applicationId, appCall.getCallId(),</TD></TR><TR><TD CLASS="l">461</TD><TD>                        attachmentName);</TD></TR><TR CLASS="z"><TD CLASS="l">462</TD><TD>                attachmentUrls.add(url);</TD></TR><TR CLASS="z"><TD CLASS="l">463</TD><TD>            }</TD></TR><TR><TD CLASS="l">464</TD><TD> </TD></TR><TR CLASS="z"><TD CLASS="l"><A NAME="19">465</A></TD><TD>            return attachmentUrls;</TD></TR><TR><TD CLASS="l">466</TD><TD>        }</TD></TR><TR><TD CLASS="l">467</TD><TD> </TD></TR><TR><TD CLASS="l">468</TD><TD>        protected List&lt;String&gt; addImageAttachmentFiles(Collection&lt;File&gt; bitmapFiles) {</TD></TR><TR CLASS="z"><TD CLASS="l">469</TD><TD>            ArrayList&lt;String&gt; attachmentUrls = new ArrayList&lt;String&gt;();</TD></TR><TR CLASS="z"><TD CLASS="l">470</TD><TD>            for (File bitmapFile : bitmapFiles) {</TD></TR><TR CLASS="z"><TD CLASS="l">471</TD><TD>                String attachmentName = UUID.randomUUID().toString();</TD></TR><TR><TD CLASS="l">472</TD><TD> </TD></TR><TR CLASS="z"><TD CLASS="l">473</TD><TD>                addImageAttachment(attachmentName, bitmapFile);</TD></TR><TR><TD CLASS="l">474</TD><TD> </TD></TR><TR CLASS="z"><TD CLASS="l">475</TD><TD>                String url = NativeAppCallContentProvider.getAttachmentUrl(applicationId, appCall.getCallId(),</TD></TR><TR><TD CLASS="l">476</TD><TD>                        attachmentName);</TD></TR><TR CLASS="z"><TD CLASS="l">477</TD><TD>                attachmentUrls.add(url);</TD></TR><TR CLASS="z"><TD CLASS="l">478</TD><TD>            }</TD></TR><TR><TD CLASS="l">479</TD><TD> </TD></TR><TR CLASS="z"><TD CLASS="l"><A NAME="1d">480</A></TD><TD>            return attachmentUrls;</TD></TR><TR><TD CLASS="l">481</TD><TD>        }</TD></TR><TR><TD CLASS="l">482</TD><TD> </TD></TR><TR><TD CLASS="l">483</TD><TD>        List&lt;String&gt; getImageAttachmentNames() {</TD></TR><TR CLASS="z"><TD CLASS="l">484</TD><TD>            return new ArrayList&lt;String&gt;(imageAttachments.keySet());</TD></TR><TR><TD CLASS="l">485</TD><TD>        }</TD></TR><TR><TD CLASS="l"><A NAME="1f">486</A></TD><TD> </TD></TR><TR><TD CLASS="l">487</TD><TD>        abstract Bundle setBundleExtras(Bundle extras);</TD></TR><TR><TD CLASS="l">488</TD><TD> </TD></TR><TR><TD CLASS="l">489</TD><TD>        void putExtra(Bundle extras, String key, String value) {</TD></TR><TR CLASS="z"><TD CLASS="l">490</TD><TD>            if (value != null) {</TD></TR><TR CLASS="z"><TD CLASS="l">491</TD><TD>                extras.putString(key, value);</TD></TR><TR><TD CLASS="l">492</TD><TD>            }</TD></TR><TR CLASS="z"><TD CLASS="l">493</TD><TD>        }</TD></TR><TR><TD CLASS="l"><A NAME="17">494</A></TD><TD> </TD></TR><TR><TD CLASS="l">495</TD><TD>        abstract EnumSet&lt;? extends DialogFeature&gt; getDialogFeatures();</TD></TR><TR><TD CLASS="l">496</TD><TD> </TD></TR><TR><TD CLASS="l">497</TD><TD>        protected CONCRETE addImageAttachment(String imageName, Bitmap bitmap) {</TD></TR><TR CLASS="z"><TD CLASS="l">498</TD><TD>            imageAttachments.put(imageName, bitmap);</TD></TR><TR><TD CLASS="l">499</TD><TD>            @SuppressWarnings(&#34;unchecked&#34;)</TD></TR><TR CLASS="z"><TD CLASS="l">500</TD><TD>            CONCRETE result = (CONCRETE) this;</TD></TR><TR CLASS="z"><TD CLASS="l"><A NAME="18">501</A></TD><TD>            return result;</TD></TR><TR><TD CLASS="l">502</TD><TD>        }</TD></TR><TR><TD CLASS="l">503</TD><TD> </TD></TR><TR><TD CLASS="l">504</TD><TD>        protected CONCRETE addImageAttachment(String imageName, File attachment) {</TD></TR><TR CLASS="z"><TD CLASS="l">505</TD><TD>            imageAttachmentFiles.put(imageName, attachment);</TD></TR><TR><TD CLASS="l">506</TD><TD>            @SuppressWarnings(&#34;unchecked&#34;)</TD></TR><TR CLASS="z"><TD CLASS="l">507</TD><TD>            CONCRETE result = (CONCRETE) this;</TD></TR><TR CLASS="z"><TD CLASS="l">508</TD><TD>            return result;</TD></TR><TR><TD CLASS="l">509</TD><TD>        }</TD></TR><TR><TD CLASS="l">510</TD><TD>    }</TD></TR><TR><TD CLASS="l">511</TD><TD> </TD></TR><TR><TD CLASS="l">512</TD><TD>    private abstract static class ShareDialogBuilderBase&lt;CONCRETE extends ShareDialogBuilderBase&lt;?&gt;&gt; extends Builder&lt;CONCRETE&gt; {</TD></TR><TR><TD CLASS="l">513</TD><TD>        private String name;</TD></TR><TR><TD CLASS="l">514</TD><TD>        private String caption;</TD></TR><TR><TD CLASS="l">515</TD><TD>        private String description;</TD></TR><TR><TD CLASS="l">516</TD><TD>        protected String link;</TD></TR><TR><TD CLASS="l">517</TD><TD>        private String picture;</TD></TR><TR><TD CLASS="l">518</TD><TD>        private String place;</TD></TR><TR><TD CLASS="l">519</TD><TD>        private ArrayList&lt;String&gt; friends;</TD></TR><TR><TD CLASS="l">520</TD><TD>        private String ref;</TD></TR><TR><TD CLASS="l">521</TD><TD>        private boolean dataErrorsFatal;</TD></TR><TR><TD CLASS="l">522</TD><TD> </TD></TR><TR><TD CLASS="l">523</TD><TD>        /**</TD></TR><TR><TD CLASS="l">524</TD><TD>         * Constructor.</TD></TR><TR><TD CLASS="l"><A NAME="63">525</A></TD><TD>         *</TD></TR><TR><TD CLASS="l">526</TD><TD>         * @param activity the Activity which is presenting the native Share dialog; must not be null</TD></TR><TR><TD CLASS="l">527</TD><TD>         */</TD></TR><TR><TD CLASS="l">528</TD><TD>        public ShareDialogBuilderBase(Activity activity) {</TD></TR><TR CLASS="z"><TD CLASS="l">529</TD><TD>            super(activity);</TD></TR><TR CLASS="z"><TD CLASS="l">530</TD><TD>        }</TD></TR><TR><TD CLASS="l">531</TD><TD> </TD></TR><TR><TD CLASS="l">532</TD><TD>        /**</TD></TR><TR><TD CLASS="l">533</TD><TD>         * Sets the title of the item to be shared.</TD></TR><TR><TD CLASS="l">534</TD><TD>         *</TD></TR><TR><TD CLASS="l"><A NAME="6b">535</A></TD><TD>         * @param name the title</TD></TR><TR><TD CLASS="l">536</TD><TD>         * @return this instance of the builder</TD></TR><TR><TD CLASS="l">537</TD><TD>         */</TD></TR><TR><TD CLASS="l">538</TD><TD>        public CONCRETE setName(String name) {</TD></TR><TR CLASS="z"><TD CLASS="l">539</TD><TD>            this.name = name;</TD></TR><TR><TD CLASS="l">540</TD><TD>            @SuppressWarnings(&#34;unchecked&#34;)</TD></TR><TR CLASS="z"><TD CLASS="l">541</TD><TD>            CONCRETE result = (CONCRETE) this;</TD></TR><TR CLASS="z"><TD CLASS="l">542</TD><TD>            return result;</TD></TR><TR><TD CLASS="l">543</TD><TD>        }</TD></TR><TR><TD CLASS="l">544</TD><TD> </TD></TR><TR><TD CLASS="l">545</TD><TD>        /**</TD></TR><TR><TD CLASS="l">546</TD><TD>         * Sets the subtitle of the item to be shared.</TD></TR><TR><TD CLASS="l">547</TD><TD>         *</TD></TR><TR><TD CLASS="l"><A NAME="66">548</A></TD><TD>         * @param caption the subtitle</TD></TR><TR><TD CLASS="l">549</TD><TD>         * @return this instance of the builder</TD></TR><TR><TD CLASS="l">550</TD><TD>         */</TD></TR><TR><TD CLASS="l">551</TD><TD>        public CONCRETE setCaption(String caption) {</TD></TR><TR CLASS="z"><TD CLASS="l">552</TD><TD>            this.caption = caption;</TD></TR><TR><TD CLASS="l">553</TD><TD>            @SuppressWarnings(&#34;unchecked&#34;)</TD></TR><TR CLASS="z"><TD CLASS="l">554</TD><TD>            CONCRETE result = (CONCRETE) this;</TD></TR><TR CLASS="z"><TD CLASS="l">555</TD><TD>            return result;</TD></TR><TR><TD CLASS="l">556</TD><TD>        }</TD></TR><TR><TD CLASS="l">557</TD><TD> </TD></TR><TR><TD CLASS="l">558</TD><TD>        /**</TD></TR><TR><TD CLASS="l">559</TD><TD>         * Sets the description of the item to be shared.</TD></TR><TR><TD CLASS="l">560</TD><TD>         *</TD></TR><TR><TD CLASS="l"><A NAME="68">561</A></TD><TD>         * @param description the description</TD></TR><TR><TD CLASS="l">562</TD><TD>         * @return this instance of the builder</TD></TR><TR><TD CLASS="l">563</TD><TD>         */</TD></TR><TR><TD CLASS="l">564</TD><TD>        public CONCRETE setDescription(String description) {</TD></TR><TR CLASS="z"><TD CLASS="l">565</TD><TD>            this.description = description;</TD></TR><TR><TD CLASS="l">566</TD><TD>            @SuppressWarnings(&#34;unchecked&#34;)</TD></TR><TR CLASS="z"><TD CLASS="l">567</TD><TD>            CONCRETE result = (CONCRETE) this;</TD></TR><TR CLASS="z"><TD CLASS="l">568</TD><TD>            return result;</TD></TR><TR><TD CLASS="l">569</TD><TD>        }</TD></TR><TR><TD CLASS="l">570</TD><TD> </TD></TR><TR><TD CLASS="l">571</TD><TD>        /**</TD></TR><TR><TD CLASS="l">572</TD><TD>         * Sets the URL of the item to be shared.</TD></TR><TR><TD CLASS="l">573</TD><TD>         *</TD></TR><TR><TD CLASS="l"><A NAME="6a">574</A></TD><TD>         * @param link the URL</TD></TR><TR><TD CLASS="l">575</TD><TD>         * @return this instance of the builder</TD></TR><TR><TD CLASS="l">576</TD><TD>         */</TD></TR><TR><TD CLASS="l">577</TD><TD>        public CONCRETE setLink(String link) {</TD></TR><TR CLASS="z"><TD CLASS="l">578</TD><TD>            this.link = link;</TD></TR><TR><TD CLASS="l">579</TD><TD>            @SuppressWarnings(&#34;unchecked&#34;)</TD></TR><TR CLASS="z"><TD CLASS="l">580</TD><TD>            CONCRETE result = (CONCRETE) this;</TD></TR><TR CLASS="z"><TD CLASS="l">581</TD><TD>            return result;</TD></TR><TR><TD CLASS="l">582</TD><TD>        }</TD></TR><TR><TD CLASS="l">583</TD><TD> </TD></TR><TR><TD CLASS="l">584</TD><TD>        /**</TD></TR><TR><TD CLASS="l">585</TD><TD>         * Sets the URL of the image of the item to be shared.</TD></TR><TR><TD CLASS="l">586</TD><TD>         *</TD></TR><TR><TD CLASS="l"><A NAME="6c">587</A></TD><TD>         * @param picture the URL of the image</TD></TR><TR><TD CLASS="l">588</TD><TD>         * @return this instance of the builder</TD></TR><TR><TD CLASS="l">589</TD><TD>         */</TD></TR><TR><TD CLASS="l">590</TD><TD>        public CONCRETE setPicture(String picture) {</TD></TR><TR CLASS="z"><TD CLASS="l">591</TD><TD>            this.picture = picture;</TD></TR><TR><TD CLASS="l">592</TD><TD>            @SuppressWarnings(&#34;unchecked&#34;)</TD></TR><TR CLASS="z"><TD CLASS="l">593</TD><TD>            CONCRETE result = (CONCRETE) this;</TD></TR><TR CLASS="z"><TD CLASS="l">594</TD><TD>            return result;</TD></TR><TR><TD CLASS="l">595</TD><TD>        }</TD></TR><TR><TD CLASS="l">596</TD><TD> </TD></TR><TR><TD CLASS="l">597</TD><TD>        /**</TD></TR><TR><TD CLASS="l">598</TD><TD>         * Sets the place for the item to be shared.</TD></TR><TR><TD CLASS="l">599</TD><TD>         *</TD></TR><TR><TD CLASS="l"><A NAME="6d">600</A></TD><TD>         * @param place the Facebook ID of the place</TD></TR><TR><TD CLASS="l">601</TD><TD>         * @return this instance of the builder</TD></TR><TR><TD CLASS="l">602</TD><TD>         */</TD></TR><TR><TD CLASS="l">603</TD><TD>        public CONCRETE setPlace(String place) {</TD></TR><TR CLASS="z"><TD CLASS="l">604</TD><TD>            this.place = place;</TD></TR><TR><TD CLASS="l">605</TD><TD>            @SuppressWarnings(&#34;unchecked&#34;)</TD></TR><TR CLASS="z"><TD CLASS="l">606</TD><TD>            CONCRETE result = (CONCRETE) this;</TD></TR><TR CLASS="z"><TD CLASS="l">607</TD><TD>            return result;</TD></TR><TR><TD CLASS="l">608</TD><TD>        }</TD></TR><TR><TD CLASS="l">609</TD><TD> </TD></TR><TR><TD CLASS="l">610</TD><TD>        /**</TD></TR><TR><TD CLASS="l">611</TD><TD>         * Sets the tagged friends for the item to be shared.</TD></TR><TR><TD CLASS="l">612</TD><TD>         *</TD></TR><TR><TD CLASS="l"><A NAME="69">613</A></TD><TD>         * @param friends a list of Facebook IDs of the friends to be tagged in the shared item</TD></TR><TR><TD CLASS="l">614</TD><TD>         * @return this instance of the builder</TD></TR><TR><TD CLASS="l">615</TD><TD>         */</TD></TR><TR><TD CLASS="l">616</TD><TD>        public CONCRETE setFriends(List&lt;String&gt; friends) {</TD></TR><TR CLASS="z"><TD CLASS="l">617</TD><TD>            this.friends = new ArrayList&lt;String&gt;(friends);</TD></TR><TR><TD CLASS="l">618</TD><TD>            @SuppressWarnings(&#34;unchecked&#34;)</TD></TR><TR CLASS="z"><TD CLASS="l">619</TD><TD>            CONCRETE result = (CONCRETE) this;</TD></TR><TR CLASS="z"><TD CLASS="l">620</TD><TD>            return result;</TD></TR><TR><TD CLASS="l">621</TD><TD>        }</TD></TR><TR><TD CLASS="l">622</TD><TD> </TD></TR><TR><TD CLASS="l">623</TD><TD>        /**</TD></TR><TR><TD CLASS="l">624</TD><TD>         * Sets the 'ref' property of the item to be shared.</TD></TR><TR><TD CLASS="l">625</TD><TD>         *</TD></TR><TR><TD CLASS="l"><A NAME="6e">626</A></TD><TD>         * @param ref the 'ref' property</TD></TR><TR><TD CLASS="l">627</TD><TD>         * @return this instance of the builder</TD></TR><TR><TD CLASS="l">628</TD><TD>         */</TD></TR><TR><TD CLASS="l">629</TD><TD>        public CONCRETE setRef(String ref) {</TD></TR><TR CLASS="z"><TD CLASS="l">630</TD><TD>            this.ref = ref;</TD></TR><TR><TD CLASS="l">631</TD><TD>            @SuppressWarnings(&#34;unchecked&#34;)</TD></TR><TR CLASS="z"><TD CLASS="l">632</TD><TD>            CONCRETE result = (CONCRETE) this;</TD></TR><TR CLASS="z"><TD CLASS="l">633</TD><TD>            return result;</TD></TR><TR><TD CLASS="l">634</TD><TD>        }</TD></TR><TR><TD CLASS="l">635</TD><TD> </TD></TR><TR><TD CLASS="l">636</TD><TD>        /**</TD></TR><TR><TD CLASS="l">637</TD><TD>         * Sets whether errors encountered during previewing the shared item should be considered fatal and</TD></TR><TR><TD CLASS="l">638</TD><TD>         * cause the dialog to return an error</TD></TR><TR><TD CLASS="l">639</TD><TD>         *</TD></TR><TR><TD CLASS="l"><A NAME="67">640</A></TD><TD>         * @param dataErrorsFatal true if data errors should be fatal; false if not</TD></TR><TR><TD CLASS="l">641</TD><TD>         * @return this instance of the builder</TD></TR><TR><TD CLASS="l">642</TD><TD>         */</TD></TR><TR><TD CLASS="l">643</TD><TD>        public CONCRETE setDataErrorsFatal(boolean dataErrorsFatal) {</TD></TR><TR CLASS="z"><TD CLASS="l">644</TD><TD>            this.dataErrorsFatal = dataErrorsFatal;</TD></TR><TR><TD CLASS="l">645</TD><TD>            @SuppressWarnings(&#34;unchecked&#34;)</TD></TR><TR CLASS="z"><TD CLASS="l">646</TD><TD>            CONCRETE result = (CONCRETE) this;</TD></TR><TR CLASS="z"><TD CLASS="l">647</TD><TD>            return result;</TD></TR><TR><TD CLASS="l"><A NAME="65">648</A></TD><TD>        }</TD></TR><TR><TD CLASS="l">649</TD><TD> </TD></TR><TR><TD CLASS="l">650</TD><TD>        @Override</TD></TR><TR><TD CLASS="l">651</TD><TD>        Bundle setBundleExtras(Bundle extras) {</TD></TR><TR CLASS="z"><TD CLASS="l">652</TD><TD>            putExtra(extras, NativeProtocol.EXTRA_APPLICATION_ID, applicationId);</TD></TR><TR CLASS="z"><TD CLASS="l">653</TD><TD>            putExtra(extras, NativeProtocol.EXTRA_APPLICATION_NAME, applicationName);</TD></TR><TR CLASS="z"><TD CLASS="l">654</TD><TD>            putExtra(extras, NativeProtocol.EXTRA_TITLE, name);</TD></TR><TR CLASS="z"><TD CLASS="l">655</TD><TD>            putExtra(extras, NativeProtocol.EXTRA_SUBTITLE, caption);</TD></TR><TR CLASS="z"><TD CLASS="l">656</TD><TD>            putExtra(extras, NativeProtocol.EXTRA_DESCRIPTION, description);</TD></TR><TR CLASS="z"><TD CLASS="l">657</TD><TD>            putExtra(extras, NativeProtocol.EXTRA_LINK, link);</TD></TR><TR CLASS="z"><TD CLASS="l">658</TD><TD>            putExtra(extras, NativeProtocol.EXTRA_IMAGE, picture);</TD></TR><TR CLASS="z"><TD CLASS="l">659</TD><TD>            putExtra(extras, NativeProtocol.EXTRA_PLACE_TAG, place);</TD></TR><TR CLASS="z"><TD CLASS="l">660</TD><TD>            putExtra(extras, NativeProtocol.EXTRA_TITLE, name);</TD></TR><TR CLASS="z"><TD CLASS="l">661</TD><TD>            putExtra(extras, NativeProtocol.EXTRA_REF, ref);</TD></TR><TR><TD CLASS="l">662</TD><TD> </TD></TR><TR CLASS="z"><TD CLASS="l">663</TD><TD>            extras.putBoolean(NativeProtocol.EXTRA_DATA_FAILURES_FATAL, dataErrorsFatal);</TD></TR><TR CLASS="z"><TD CLASS="l">664</TD><TD>            if (!Utility.isNullOrEmpty(friends)) {</TD></TR><TR CLASS="z"><TD CLASS="l">665</TD><TD>                extras.putStringArrayList(NativeProtocol.EXTRA_FRIEND_TAGS, friends);</TD></TR><TR><TD CLASS="l">666</TD><TD>            }</TD></TR><TR CLASS="z"><TD CLASS="l">667</TD><TD>            return extras;</TD></TR><TR><TD CLASS="l">668</TD><TD>        }</TD></TR><TR><TD CLASS="l">669</TD><TD>    }</TD></TR><TR><TD CLASS="l">670</TD><TD> </TD></TR><TR><TD CLASS="l">671</TD><TD>    /**</TD></TR><TR><TD CLASS="l">672</TD><TD>     * Provides a builder which can construct a FacebookDialog instance suitable for presenting the native</TD></TR><TR><TD CLASS="l">673</TD><TD>     * Share dialog. This builder will throw an exception if the Facebook application is not installed, so it</TD></TR><TR><TD CLASS="l">674</TD><TD>     * should only be used if {@link FacebookDialog#canPresentShareDialog(android.content.Context,</TD></TR><TR><TD CLASS="l">675</TD><TD>     * com.facebook.widget.FacebookDialog.ShareDialogFeature...)}  indicates the capability is available.</TD></TR><TR><TD CLASS="l">676</TD><TD>     */</TD></TR><TR><TD CLASS="l">677</TD><TD>    public static class ShareDialogBuilder extends ShareDialogBuilderBase&lt;ShareDialogBuilder&gt; {</TD></TR><TR><TD CLASS="l">678</TD><TD> </TD></TR><TR><TD CLASS="l">679</TD><TD>        /**</TD></TR><TR><TD CLASS="l">680</TD><TD>         * Constructor.</TD></TR><TR><TD CLASS="l"><A NAME="60">681</A></TD><TD>         *</TD></TR><TR><TD CLASS="l">682</TD><TD>         * @param activity the Activity which is presenting the native Share dialog; must not be null</TD></TR><TR><TD CLASS="l">683</TD><TD>         */</TD></TR><TR><TD CLASS="l">684</TD><TD>        public ShareDialogBuilder(Activity activity) {</TD></TR><TR CLASS="z"><TD CLASS="l">685</TD><TD>            super(activity);</TD></TR><TR CLASS="z"><TD CLASS="l"><A NAME="62">686</A></TD><TD>        }</TD></TR><TR><TD CLASS="l">687</TD><TD> </TD></TR><TR><TD CLASS="l">688</TD><TD>        @Override</TD></TR><TR><TD CLASS="l">689</TD><TD>        EnumSet&lt;? extends DialogFeature&gt; getDialogFeatures() {</TD></TR><TR CLASS="z"><TD CLASS="l">690</TD><TD>            return EnumSet.of(ShareDialogFeature.SHARE_DIALOG);</TD></TR><TR><TD CLASS="l">691</TD><TD>        }</TD></TR><TR><TD CLASS="l">692</TD><TD>    }</TD></TR><TR><TD CLASS="l">693</TD><TD> </TD></TR><TR><TD CLASS="l">694</TD><TD>    private static abstract class PhotoDialogBuilderBase&lt;CONCRETE extends PhotoDialogBuilderBase&lt;?&gt;&gt;</TD></TR><TR><TD CLASS="l">695</TD><TD>            extends Builder&lt;CONCRETE&gt; {</TD></TR><TR><TD CLASS="l">696</TD><TD>        private String place;</TD></TR><TR><TD CLASS="l">697</TD><TD>        private ArrayList&lt;String&gt; friends;</TD></TR><TR CLASS="z"><TD CLASS="l">698</TD><TD>        private ArrayList&lt;String&gt; imageAttachmentUrls = new ArrayList&lt;String&gt;();</TD></TR><TR><TD CLASS="l">699</TD><TD> </TD></TR><TR><TD CLASS="l">700</TD><TD>        /**</TD></TR><TR><TD CLASS="l">701</TD><TD>         * Constructor.</TD></TR><TR><TD CLASS="l"><A NAME="55">702</A></TD><TD>         *</TD></TR><TR><TD CLASS="l">703</TD><TD>         * @param activity the Activity which is presenting the native Share dialog; must not be null</TD></TR><TR><TD CLASS="l">704</TD><TD>         */</TD></TR><TR><TD CLASS="l">705</TD><TD>        public PhotoDialogBuilderBase(Activity activity) {</TD></TR><TR CLASS="z"><TD CLASS="l">706</TD><TD>            super(activity);</TD></TR><TR CLASS="z"><TD CLASS="l">707</TD><TD>        }</TD></TR><TR><TD CLASS="l">708</TD><TD> </TD></TR><TR><TD CLASS="l">709</TD><TD>        /**</TD></TR><TR><TD CLASS="l">710</TD><TD>         * Sets the place for the item to be shared.</TD></TR><TR><TD CLASS="l">711</TD><TD>         *</TD></TR><TR><TD CLASS="l"><A NAME="5b">712</A></TD><TD>         * @param place the Facebook ID of the place</TD></TR><TR><TD CLASS="l">713</TD><TD>         * @return this instance of the builder</TD></TR><TR><TD CLASS="l">714</TD><TD>         */</TD></TR><TR><TD CLASS="l">715</TD><TD>        public CONCRETE setPlace(String place) {</TD></TR><TR CLASS="z"><TD CLASS="l">716</TD><TD>            this.place = place;</TD></TR><TR><TD CLASS="l">717</TD><TD>            @SuppressWarnings(&#34;unchecked&#34;)</TD></TR><TR CLASS="z"><TD CLASS="l">718</TD><TD>            CONCRETE result = (CONCRETE) this;</TD></TR><TR CLASS="z"><TD CLASS="l">719</TD><TD>            return result;</TD></TR><TR><TD CLASS="l">720</TD><TD>        }</TD></TR><TR><TD CLASS="l">721</TD><TD> </TD></TR><TR><TD CLASS="l">722</TD><TD>        /**</TD></TR><TR><TD CLASS="l">723</TD><TD>         * Sets the tagged friends for the item to be shared.</TD></TR><TR><TD CLASS="l">724</TD><TD>         *</TD></TR><TR><TD CLASS="l"><A NAME="5a">725</A></TD><TD>         * @param friends a list of Facebook IDs of the friends to be tagged in the shared item</TD></TR><TR><TD CLASS="l">726</TD><TD>         * @return this instance of the builder</TD></TR><TR><TD CLASS="l">727</TD><TD>         */</TD></TR><TR><TD CLASS="l">728</TD><TD>        public CONCRETE setFriends(List&lt;String&gt; friends) {</TD></TR><TR CLASS="z"><TD CLASS="l">729</TD><TD>            this.friends = new ArrayList&lt;String&gt;(friends);</TD></TR><TR><TD CLASS="l">730</TD><TD>            @SuppressWarnings(&#34;unchecked&#34;)</TD></TR><TR CLASS="z"><TD CLASS="l">731</TD><TD>            CONCRETE result = (CONCRETE) this;</TD></TR><TR CLASS="z"><TD CLASS="l">732</TD><TD>            return result;</TD></TR><TR><TD CLASS="l">733</TD><TD>        }</TD></TR><TR><TD CLASS="l">734</TD><TD> </TD></TR><TR><TD CLASS="l">735</TD><TD>        /**</TD></TR><TR><TD CLASS="l">736</TD><TD>         * &lt;p&gt;&lt;/p&gt;Adds one or more photos to the list of photos to display in the native Share dialog, by providing</TD></TR><TR><TD CLASS="l">737</TD><TD>         * an in-memory representation of the photos. The dialog's callback will be called once the user has</TD></TR><TR><TD CLASS="l">738</TD><TD>         * shared the photos, but the photos themselves may be uploaded in the background by the Facebook app;</TD></TR><TR><TD CLASS="l">739</TD><TD>         * apps wishing to be notified when the photo upload has succeeded or failed should extend the</TD></TR><TR><TD CLASS="l">740</TD><TD>         * FacebookBroadcastReceiver class and register it in their AndroidManifest.xml.&lt;/p&gt;</TD></TR><TR><TD CLASS="l">741</TD><TD>         * &lt;p&gt;In order for the images to be provided to the Facebook application as part of the app call, the</TD></TR><TR><TD CLASS="l">742</TD><TD>         * NativeAppCallContentProvider must be specified correctly in the application's AndroidManifest.xml.&lt;/p&gt;</TD></TR><TR><TD CLASS="l"><A NAME="58">743</A></TD><TD>         * @param photos a collection of Files representing photos to be uploaded</TD></TR><TR><TD CLASS="l">744</TD><TD>         * @return this instance of the builder</TD></TR><TR><TD CLASS="l">745</TD><TD>         */</TD></TR><TR><TD CLASS="l">746</TD><TD>        public CONCRETE addPhotos(Collection&lt;Bitmap&gt; photos) {</TD></TR><TR CLASS="z"><TD CLASS="l">747</TD><TD>            imageAttachmentUrls.addAll(addImageAttachments(photos));</TD></TR><TR><TD CLASS="l">748</TD><TD>            @SuppressWarnings(&#34;unchecked&#34;)</TD></TR><TR CLASS="z"><TD CLASS="l">749</TD><TD>            CONCRETE result = (CONCRETE) this;</TD></TR><TR CLASS="z"><TD CLASS="l">750</TD><TD>            return result;</TD></TR><TR><TD CLASS="l">751</TD><TD>        }</TD></TR><TR><TD CLASS="l">752</TD><TD> </TD></TR><TR><TD CLASS="l">753</TD><TD>        /**</TD></TR><TR><TD CLASS="l">754</TD><TD>         * Adds one or more photos to the list of photos to display in the native Share dialog, by specifying</TD></TR><TR><TD CLASS="l">755</TD><TD>         * their location in the file system. The dialog's callback will be called once the user has</TD></TR><TR><TD CLASS="l">756</TD><TD>         * shared the photos, but the photos themselves may be uploaded in the background by the Facebook app;</TD></TR><TR><TD CLASS="l">757</TD><TD>         * apps wishing to be notified when the photo upload has succeeded or failed should extend the</TD></TR><TR><TD CLASS="l">758</TD><TD>         * FacebookBroadcastReceiver class and register it in their AndroidManifest.xml.</TD></TR><TR><TD CLASS="l"><A NAME="57">759</A></TD><TD>         * @param photos a collection of Files representing photos to be uploaded</TD></TR><TR><TD CLASS="l">760</TD><TD>         * @return this instance of the builder</TD></TR><TR><TD CLASS="l">761</TD><TD>         */</TD></TR><TR><TD CLASS="l">762</TD><TD>        public CONCRETE addPhotoFiles(Collection&lt;File&gt; photos) {</TD></TR><TR CLASS="z"><TD CLASS="l">763</TD><TD>            imageAttachmentUrls.addAll(addImageAttachmentFiles(photos));</TD></TR><TR><TD CLASS="l">764</TD><TD>            @SuppressWarnings(&#34;unchecked&#34;)</TD></TR><TR CLASS="z"><TD CLASS="l">765</TD><TD>            CONCRETE result = (CONCRETE) this;</TD></TR><TR CLASS="z"><TD CLASS="l">766</TD><TD>            return result;</TD></TR><TR><TD CLASS="l"><A NAME="5c">767</A></TD><TD>        }</TD></TR><TR><TD CLASS="l">768</TD><TD> </TD></TR><TR><TD CLASS="l">769</TD><TD>        @Override</TD></TR><TR><TD CLASS="l">770</TD><TD>        void validate() {</TD></TR><TR CLASS="z"><TD CLASS="l">771</TD><TD>            super.validate();</TD></TR><TR><TD CLASS="l">772</TD><TD> </TD></TR><TR CLASS="z"><TD CLASS="l">773</TD><TD>            if (imageAttachmentUrls.isEmpty()) {</TD></TR><TR CLASS="z"><TD CLASS="l">774</TD><TD>                throw new FacebookException(&#34;Must specify at least one photo.&#34;);</TD></TR><TR><TD CLASS="l">775</TD><TD>            }</TD></TR><TR CLASS="z"><TD CLASS="l"><A NAME="59">776</A></TD><TD>        }</TD></TR><TR><TD CLASS="l">777</TD><TD> </TD></TR><TR><TD CLASS="l">778</TD><TD>        @Override</TD></TR><TR><TD CLASS="l">779</TD><TD>        Bundle setBundleExtras(Bundle extras) {</TD></TR><TR CLASS="z"><TD CLASS="l">780</TD><TD>            putExtra(extras, NativeProtocol.EXTRA_APPLICATION_ID, applicationId);</TD></TR><TR CLASS="z"><TD CLASS="l">781</TD><TD>            putExtra(extras, NativeProtocol.EXTRA_APPLICATION_NAME, applicationName);</TD></TR><TR CLASS="z"><TD CLASS="l">782</TD><TD>            putExtra(extras, NativeProtocol.EXTRA_PLACE_TAG, place);</TD></TR><TR CLASS="z"><TD CLASS="l">783</TD><TD>            extras.putStringArrayList(NativeProtocol.EXTRA_PHOTOS, imageAttachmentUrls);</TD></TR><TR><TD CLASS="l">784</TD><TD> </TD></TR><TR CLASS="z"><TD CLASS="l">785</TD><TD>            if (!Utility.isNullOrEmpty(friends)) {</TD></TR><TR CLASS="z"><TD CLASS="l">786</TD><TD>                extras.putStringArrayList(NativeProtocol.EXTRA_FRIEND_TAGS, friends);</TD></TR><TR><TD CLASS="l">787</TD><TD>            }</TD></TR><TR CLASS="z"><TD CLASS="l">788</TD><TD>            return extras;</TD></TR><TR><TD CLASS="l">789</TD><TD>        }</TD></TR><TR><TD CLASS="l">790</TD><TD>    }</TD></TR><TR><TD CLASS="l">791</TD><TD> </TD></TR><TR><TD CLASS="l">792</TD><TD>    /**</TD></TR><TR><TD CLASS="l">793</TD><TD>     * Provides a builder which can construct a FacebookDialog instance suitable for presenting the native</TD></TR><TR><TD CLASS="l">794</TD><TD>     * Share dialog for sharing photos. This builder will throw an exception if the Facebook application is not</TD></TR><TR><TD CLASS="l">795</TD><TD>     * installed, so it should only be used if {@link FacebookDialog#canPresentShareDialog(android.content.Context,</TD></TR><TR><TD CLASS="l">796</TD><TD>     * com.facebook.widget.FacebookDialog.ShareDialogFeature...)}  indicates the capability is available.</TD></TR><TR><TD CLASS="l">797</TD><TD>     */</TD></TR><TR><TD CLASS="l">798</TD><TD>    public static class PhotoShareDialogBuilder extends PhotoDialogBuilderBase&lt;PhotoShareDialogBuilder&gt; {</TD></TR><TR><TD CLASS="l">799</TD><TD>        /**</TD></TR><TR><TD CLASS="l">800</TD><TD>         * Constructor.</TD></TR><TR><TD CLASS="l"><A NAME="5d">801</A></TD><TD>         *</TD></TR><TR><TD CLASS="l">802</TD><TD>         * @param activity the Activity which is presenting the native Share dialog; must not be null</TD></TR><TR><TD CLASS="l">803</TD><TD>         */</TD></TR><TR><TD CLASS="l">804</TD><TD>        public PhotoShareDialogBuilder(Activity activity) {</TD></TR><TR CLASS="z"><TD CLASS="l">805</TD><TD>            super(activity);</TD></TR><TR CLASS="z"><TD CLASS="l"><A NAME="5f">806</A></TD><TD>        }</TD></TR><TR><TD CLASS="l">807</TD><TD> </TD></TR><TR><TD CLASS="l">808</TD><TD>        @Override</TD></TR><TR><TD CLASS="l">809</TD><TD>        EnumSet&lt;? extends DialogFeature&gt; getDialogFeatures() {</TD></TR><TR CLASS="z"><TD CLASS="l">810</TD><TD>            return EnumSet.of(ShareDialogFeature.SHARE_DIALOG, ShareDialogFeature.PHOTOS);</TD></TR><TR><TD CLASS="l">811</TD><TD>        }</TD></TR><TR><TD CLASS="l">812</TD><TD> </TD></TR><TR><TD CLASS="l">813</TD><TD>    }</TD></TR><TR><TD CLASS="l">814</TD><TD> </TD></TR><TR><TD CLASS="l">815</TD><TD>    private static abstract class OpenGraphDialogBuilderBase&lt;CONCRETE extends OpenGraphDialogBuilderBase&lt;?&gt;&gt;</TD></TR><TR><TD CLASS="l">816</TD><TD>            extends Builder&lt;CONCRETE&gt; {</TD></TR><TR><TD CLASS="l">817</TD><TD> </TD></TR><TR><TD CLASS="l">818</TD><TD>        private String previewPropertyName;</TD></TR><TR><TD CLASS="l">819</TD><TD>        private OpenGraphAction action;</TD></TR><TR><TD CLASS="l">820</TD><TD>        private String actionType;</TD></TR><TR><TD CLASS="l">821</TD><TD>        private boolean dataErrorsFatal;</TD></TR><TR><TD CLASS="l">822</TD><TD> </TD></TR><TR><TD CLASS="l">823</TD><TD>        /**</TD></TR><TR><TD CLASS="l">824</TD><TD>         * Constructor.</TD></TR><TR><TD CLASS="l">825</TD><TD>         *</TD></TR><TR><TD CLASS="l">826</TD><TD>         * @param activity            the Activity which is presenting the native Open Graph action publish dialog;</TD></TR><TR><TD CLASS="l">827</TD><TD>         *                            must not be null</TD></TR><TR><TD CLASS="l">828</TD><TD>         * @param action              the Open Graph action to be published, which must contain a reference to at least one</TD></TR><TR><TD CLASS="l">829</TD><TD>         *                            Open Graph object with the property name specified by setPreviewPropertyName; the action</TD></TR><TR><TD CLASS="l">830</TD><TD>         *                            must have had its type specified via the {@link OpenGraphAction#setType(String)} method</TD></TR><TR><TD CLASS="l">831</TD><TD>         * @param actionType          the type of the Open Graph action to be published, which should be the namespace-qualified</TD></TR><TR><TD CLASS="l">832</TD><TD>         *                            name of the action type (e.g., &#34;myappnamespace:myactiontype&#34;); this will override the type</TD></TR><TR><TD CLASS="l">833</TD><TD>         *                            of the action passed in.</TD></TR><TR><TD CLASS="l">834</TD><TD>         * @param previewPropertyName the name of a property on the Open Graph action that contains the</TD></TR><TR><TD CLASS="l">835</TD><TD>         *                            Open Graph object which will be displayed as a preview to the user</TD></TR><TR><TD CLASS="l"><A NAME="32">836</A></TD><TD>         */</TD></TR><TR><TD CLASS="l">837</TD><TD>        @Deprecated</TD></TR><TR><TD CLASS="l">838</TD><TD>        public OpenGraphDialogBuilderBase(Activity activity, OpenGraphAction action, String actionType,</TD></TR><TR><TD CLASS="l">839</TD><TD>                String previewPropertyName) {</TD></TR><TR CLASS="z"><TD CLASS="l">840</TD><TD>            super(activity);</TD></TR><TR><TD CLASS="l">841</TD><TD> </TD></TR><TR CLASS="z"><TD CLASS="l">842</TD><TD>            Validate.notNull(action, &#34;action&#34;);</TD></TR><TR CLASS="z"><TD CLASS="l">843</TD><TD>            Validate.notNullOrEmpty(actionType, &#34;actionType&#34;);</TD></TR><TR CLASS="z"><TD CLASS="l">844</TD><TD>            Validate.notNullOrEmpty(previewPropertyName, &#34;previewPropertyName&#34;);</TD></TR><TR CLASS="z"><TD CLASS="l">845</TD><TD>            if (action.getProperty(previewPropertyName) == null) {</TD></TR><TR CLASS="z"><TD CLASS="l">846</TD><TD>                throw new IllegalArgumentException(</TD></TR><TR><TD CLASS="l">847</TD><TD>                        &#34;A property named \&#34;&#34; + previewPropertyName + &#34;\&#34; was not found on the action.  The name of &#34; +</TD></TR><TR><TD CLASS="l">848</TD><TD>                                &#34;the preview property must match the name of an action property.&#34;);</TD></TR><TR><TD CLASS="l">849</TD><TD>            }</TD></TR><TR CLASS="z"><TD CLASS="l">850</TD><TD>            String typeOnAction = action.getType();</TD></TR><TR CLASS="z"><TD CLASS="l">851</TD><TD>            if (!Utility.isNullOrEmpty(typeOnAction) &amp;&amp; !typeOnAction.equals(actionType)) {</TD></TR><TR CLASS="z"><TD CLASS="l">852</TD><TD>                throw new IllegalArgumentException(&#34;'actionType' must match the type of 'action' if it is specified. &#34; +</TD></TR><TR><TD CLASS="l">853</TD><TD>                        &#34;Consider using OpenGraphDialogBuilderBase(Activity activity, OpenGraphAction action, &#34; +</TD></TR><TR><TD CLASS="l">854</TD><TD>                        &#34;String previewPropertyName) instead.&#34;);</TD></TR><TR><TD CLASS="l">855</TD><TD>            }</TD></TR><TR CLASS="z"><TD CLASS="l">856</TD><TD>            this.action = action;</TD></TR><TR CLASS="z"><TD CLASS="l">857</TD><TD>            this.actionType = actionType;</TD></TR><TR CLASS="z"><TD CLASS="l">858</TD><TD>            this.previewPropertyName = previewPropertyName;</TD></TR><TR CLASS="z"><TD CLASS="l">859</TD><TD>        }</TD></TR><TR><TD CLASS="l">860</TD><TD> </TD></TR><TR><TD CLASS="l">861</TD><TD>        /**</TD></TR><TR><TD CLASS="l">862</TD><TD>         * Constructor.</TD></TR><TR><TD CLASS="l">863</TD><TD>         *</TD></TR><TR><TD CLASS="l">864</TD><TD>         * @param activity            the Activity which is presenting the native Open Graph action publish dialog;</TD></TR><TR><TD CLASS="l">865</TD><TD>         *                            must not be null</TD></TR><TR><TD CLASS="l">866</TD><TD>         * @param action              the Open Graph action to be published, which must contain a reference to at least one</TD></TR><TR><TD CLASS="l">867</TD><TD>         *                            Open Graph object with the property name specified by setPreviewPropertyName; the action</TD></TR><TR><TD CLASS="l">868</TD><TD>         *                            must have had its type specified via the {@link OpenGraphAction#setType(String)} method</TD></TR><TR><TD CLASS="l"><A NAME="33">869</A></TD><TD>         * @param previewPropertyName the name of a property on the Open Graph action that contains the</TD></TR><TR><TD CLASS="l">870</TD><TD>         *                            Open Graph object which will be displayed as a preview to the user</TD></TR><TR><TD CLASS="l">871</TD><TD>         */</TD></TR><TR><TD CLASS="l">872</TD><TD>        public OpenGraphDialogBuilderBase(Activity activity, OpenGraphAction action, String previewPropertyName) {</TD></TR><TR CLASS="z"><TD CLASS="l">873</TD><TD>            super(activity);</TD></TR><TR><TD CLASS="l">874</TD><TD> </TD></TR><TR CLASS="z"><TD CLASS="l">875</TD><TD>            Validate.notNull(action, &#34;action&#34;);</TD></TR><TR CLASS="z"><TD CLASS="l">876</TD><TD>            Validate.notNullOrEmpty(action.getType(), &#34;action.getType()&#34;);</TD></TR><TR CLASS="z"><TD CLASS="l">877</TD><TD>            Validate.notNullOrEmpty(previewPropertyName, &#34;previewPropertyName&#34;);</TD></TR><TR CLASS="z"><TD CLASS="l">878</TD><TD>            if (action.getProperty(previewPropertyName) == null) {</TD></TR><TR CLASS="z"><TD CLASS="l">879</TD><TD>                throw new IllegalArgumentException(</TD></TR><TR><TD CLASS="l">880</TD><TD>                        &#34;A property named \&#34;&#34; + previewPropertyName + &#34;\&#34; was not found on the action.  The name of &#34; +</TD></TR><TR><TD CLASS="l">881</TD><TD>                                &#34;the preview property must match the name of an action property.&#34;);</TD></TR><TR><TD CLASS="l">882</TD><TD>            }</TD></TR><TR><TD CLASS="l">883</TD><TD> </TD></TR><TR CLASS="z"><TD CLASS="l">884</TD><TD>            this.action = action;</TD></TR><TR CLASS="z"><TD CLASS="l">885</TD><TD>            this.actionType = action.getType();</TD></TR><TR CLASS="z"><TD CLASS="l">886</TD><TD>            this.previewPropertyName = previewPropertyName;</TD></TR><TR CLASS="z"><TD CLASS="l">887</TD><TD>        }</TD></TR><TR><TD CLASS="l">888</TD><TD> </TD></TR><TR><TD CLASS="l">889</TD><TD>        /**</TD></TR><TR><TD CLASS="l">890</TD><TD>         * Sets whether errors encountered during previewing the shared item should be considered fatal and</TD></TR><TR><TD CLASS="l">891</TD><TD>         * cause the dialog to return an error</TD></TR><TR><TD CLASS="l">892</TD><TD>         *</TD></TR><TR><TD CLASS="l"><A NAME="38">893</A></TD><TD>         * @param dataErrorsFatal true if data errors should be fatal; false if not</TD></TR><TR><TD CLASS="l">894</TD><TD>         * @return this instance of the builder</TD></TR><TR><TD CLASS="l">895</TD><TD>         */</TD></TR><TR><TD CLASS="l">896</TD><TD>        public CONCRETE setDataErrorsFatal(boolean dataErrorsFatal) {</TD></TR><TR CLASS="z"><TD CLASS="l">897</TD><TD>            this.dataErrorsFatal = dataErrorsFatal;</TD></TR><TR><TD CLASS="l">898</TD><TD>            @SuppressWarnings(&#34;unchecked&#34;)</TD></TR><TR CLASS="z"><TD CLASS="l">899</TD><TD>            CONCRETE result = (CONCRETE) this;</TD></TR><TR CLASS="z"><TD CLASS="l">900</TD><TD>            return result;</TD></TR><TR><TD CLASS="l">901</TD><TD>        }</TD></TR><TR><TD CLASS="l">902</TD><TD> </TD></TR><TR><TD CLASS="l">903</TD><TD>        /**</TD></TR><TR><TD CLASS="l">904</TD><TD>         * &lt;p&gt;Specifies a list of images for the Open Graph action that should be uploaded prior to publishing the</TD></TR><TR><TD CLASS="l">905</TD><TD>         * action. The action must already have been set prior to calling this method. This method will generate unique</TD></TR><TR><TD CLASS="l">906</TD><TD>         * names for the image attachments and update the action to refer to these attachments. Note that calling</TD></TR><TR><TD CLASS="l">907</TD><TD>         * setAction again after calling this method will not clear the image attachments already set, but the new</TD></TR><TR><TD CLASS="l">908</TD><TD>         * action will have no reference to the existing attachments. The images will not be marked as being</TD></TR><TR><TD CLASS="l">909</TD><TD>         * user-generated.&lt;/p&gt;</TD></TR><TR><TD CLASS="l">910</TD><TD>         * &lt;p/&gt;</TD></TR><TR><TD CLASS="l">911</TD><TD>         * &lt;p&gt;In order for the images to be provided to the Facebook application as part of the app call, the</TD></TR><TR><TD CLASS="l">912</TD><TD>         * NativeAppCallContentProvider must be specified correctly in the application's AndroidManifest.xml.&lt;/p&gt;</TD></TR><TR><TD CLASS="l">913</TD><TD>         *</TD></TR><TR><TD CLASS="l"><A NAME="3d">914</A></TD><TD>         * @param bitmaps a list of Bitmaps to be uploaded and attached to the Open Graph action</TD></TR><TR><TD CLASS="l">915</TD><TD>         * @return this instance of the builder</TD></TR><TR><TD CLASS="l">916</TD><TD>         */</TD></TR><TR><TD CLASS="l">917</TD><TD>        public CONCRETE setImageAttachmentsForAction(List&lt;Bitmap&gt; bitmaps) {</TD></TR><TR CLASS="z"><TD CLASS="l">918</TD><TD>            return setImageAttachmentsForAction(bitmaps, false);</TD></TR><TR><TD CLASS="l">919</TD><TD>        }</TD></TR><TR><TD CLASS="l">920</TD><TD> </TD></TR><TR><TD CLASS="l">921</TD><TD>        /**</TD></TR><TR><TD CLASS="l">922</TD><TD>         * &lt;p&gt;Specifies a list of images for the Open Graph action that should be uploaded prior to publishing the</TD></TR><TR><TD CLASS="l">923</TD><TD>         * action. The action must already have been set prior to calling this method. This method will generate unique</TD></TR><TR><TD CLASS="l">924</TD><TD>         * names for the image attachments and update the action to refer to these attachments. Note that calling</TD></TR><TR><TD CLASS="l">925</TD><TD>         * setAction again after calling this method will not clear the image attachments already set, but the new</TD></TR><TR><TD CLASS="l">926</TD><TD>         * action will have no reference to the existing attachments. The images may be marked as being</TD></TR><TR><TD CLASS="l">927</TD><TD>         * user-generated -- refer to</TD></TR><TR><TD CLASS="l">928</TD><TD>         * &lt;a href=&#34;https://developers.facebook.com/docs/opengraph/howtos/adding-photos-to-stories/&#34;&gt;this article&lt;/a&gt;</TD></TR><TR><TD CLASS="l">929</TD><TD>         * for more information.&lt;/p&gt;</TD></TR><TR><TD CLASS="l">930</TD><TD>         * &lt;p/&gt;</TD></TR><TR><TD CLASS="l">931</TD><TD>         * &lt;p&gt;In order for the images to be provided to the Facebook application as part of the app call, the</TD></TR><TR><TD CLASS="l">932</TD><TD>         * NativeAppCallContentProvider must be specified correctly in the application's AndroidManifest.xml.&lt;/p&gt;</TD></TR><TR><TD CLASS="l">933</TD><TD>         *</TD></TR><TR><TD CLASS="l">934</TD><TD>         * @param bitmaps         a list of Bitmaps to be uploaded and attached to the Open Graph action</TD></TR><TR><TD CLASS="l">935</TD><TD>         * @param isUserGenerated if true, specifies that the user_generated flag should be set for these images</TD></TR><TR><TD CLASS="l"><A NAME="3e">936</A></TD><TD>         * @return this instance of the builder</TD></TR><TR><TD CLASS="l">937</TD><TD>         */</TD></TR><TR><TD CLASS="l">938</TD><TD>        public CONCRETE setImageAttachmentsForAction(List&lt;Bitmap&gt; bitmaps,</TD></TR><TR><TD CLASS="l">939</TD><TD>                boolean isUserGenerated) {</TD></TR><TR CLASS="z"><TD CLASS="l">940</TD><TD>            Validate.containsNoNulls(bitmaps, &#34;bitmaps&#34;);</TD></TR><TR CLASS="z"><TD CLASS="l">941</TD><TD>            if (action == null) {</TD></TR><TR CLASS="z"><TD CLASS="l">942</TD><TD>                throw new FacebookException(&#34;Can not set attachments prior to setting action.&#34;);</TD></TR><TR><TD CLASS="l">943</TD><TD>            }</TD></TR><TR><TD CLASS="l">944</TD><TD> </TD></TR><TR CLASS="z"><TD CLASS="l">945</TD><TD>            List&lt;String&gt; attachmentUrls = addImageAttachments(bitmaps);</TD></TR><TR CLASS="z"><TD CLASS="l">946</TD><TD>            updateActionAttachmentUrls(attachmentUrls, isUserGenerated);</TD></TR><TR><TD CLASS="l">947</TD><TD> </TD></TR><TR><TD CLASS="l">948</TD><TD>            @SuppressWarnings(&#34;unchecked&#34;)</TD></TR><TR CLASS="z"><TD CLASS="l">949</TD><TD>            CONCRETE result = (CONCRETE) this;</TD></TR><TR CLASS="z"><TD CLASS="l">950</TD><TD>            return result;</TD></TR><TR><TD CLASS="l">951</TD><TD>        }</TD></TR><TR><TD CLASS="l">952</TD><TD> </TD></TR><TR><TD CLASS="l">953</TD><TD>        /**</TD></TR><TR><TD CLASS="l">954</TD><TD>         * &lt;p&gt;Specifies a list of images for the Open Graph action that should be uploaded prior to publishing the</TD></TR><TR><TD CLASS="l">955</TD><TD>         * action. The action must already have been set prior to calling this method.  The images will not be marked</TD></TR><TR><TD CLASS="l">956</TD><TD>         * as being user-generated. This method will generate unique names for the image attachments and update the</TD></TR><TR><TD CLASS="l">957</TD><TD>         * action to refer to these attachments. Note that calling setAction again after calling this method will</TD></TR><TR><TD CLASS="l">958</TD><TD>         * not clear the image attachments already set, but the new action will have no reference to the existing</TD></TR><TR><TD CLASS="l">959</TD><TD>         * attachments.&lt;/p&gt;</TD></TR><TR><TD CLASS="l">960</TD><TD>         * &lt;p/&gt;</TD></TR><TR><TD CLASS="l">961</TD><TD>         * &lt;p&gt;In order for the images to be provided to the Facebook application as part of the app call, the</TD></TR><TR><TD CLASS="l">962</TD><TD>         * NativeAppCallContentProvider must be specified correctly in the application's AndroidManifest.xml.&lt;/p&gt;</TD></TR><TR><TD CLASS="l">963</TD><TD>         *</TD></TR><TR><TD CLASS="l"><A NAME="39">964</A></TD><TD>         * @param bitmapFiles a list of Files containing bitmaps to be uploaded and attached to the Open Graph action</TD></TR><TR><TD CLASS="l">965</TD><TD>         * @return this instance of the builder</TD></TR><TR><TD CLASS="l">966</TD><TD>         */</TD></TR><TR><TD CLASS="l">967</TD><TD>        public CONCRETE setImageAttachmentFilesForAction(List&lt;File&gt; bitmapFiles) {</TD></TR><TR CLASS="z"><TD CLASS="l">968</TD><TD>            return setImageAttachmentFilesForAction(bitmapFiles, false);</TD></TR><TR><TD CLASS="l">969</TD><TD>        }</TD></TR><TR><TD CLASS="l">970</TD><TD> </TD></TR><TR><TD CLASS="l">971</TD><TD>        /**</TD></TR><TR><TD CLASS="l">972</TD><TD>         * &lt;p&gt;Specifies a list of images for the Open Graph action that should be uploaded prior to publishing the</TD></TR><TR><TD CLASS="l">973</TD><TD>         * action. The action must already have been set prior to calling this method. The images may be marked as being</TD></TR><TR><TD CLASS="l">974</TD><TD>         * user-generated -- refer to</TD></TR><TR><TD CLASS="l">975</TD><TD>         * &lt;a href=&#34;https://developers.facebook.com/docs/opengraph/howtos/adding-photos-to-stories/&#34;&gt;this article&lt;/a&gt;</TD></TR><TR><TD CLASS="l">976</TD><TD>         * for more information. This method will generate unique</TD></TR><TR><TD CLASS="l">977</TD><TD>         * names for the image attachments and update the action to refer to these attachments. Note that calling</TD></TR><TR><TD CLASS="l">978</TD><TD>         * setAction again after calling this method will not clear the image attachments already set, but the new</TD></TR><TR><TD CLASS="l">979</TD><TD>         * action will have no reference to the existing attachments.&lt;/p&gt;</TD></TR><TR><TD CLASS="l">980</TD><TD>         * &lt;p/&gt;</TD></TR><TR><TD CLASS="l">981</TD><TD>         * &lt;p&gt;In order for the images to be provided to the Facebook application as part of the app call, the</TD></TR><TR><TD CLASS="l">982</TD><TD>         * NativeAppCallContentProvider must be specified correctly in the application's AndroidManifest.xml.&lt;/p&gt;</TD></TR><TR><TD CLASS="l">983</TD><TD>         *</TD></TR><TR><TD CLASS="l">984</TD><TD>         * @param bitmapFiles     a list of Files containing bitmaps to be uploaded and attached to the Open Graph action</TD></TR><TR><TD CLASS="l">985</TD><TD>         * @param isUserGenerated if true, specifies that the user_generated flag should be set for these images</TD></TR><TR><TD CLASS="l"><A NAME="3a">986</A></TD><TD>         * @return this instance of the builder</TD></TR><TR><TD CLASS="l">987</TD><TD>         */</TD></TR><TR><TD CLASS="l">988</TD><TD>        public CONCRETE setImageAttachmentFilesForAction(List&lt;File&gt; bitmapFiles,</TD></TR><TR><TD CLASS="l">989</TD><TD>                boolean isUserGenerated) {</TD></TR><TR CLASS="z"><TD CLASS="l">990</TD><TD>            Validate.containsNoNulls(bitmapFiles, &#34;bitmapFiles&#34;);</TD></TR><TR CLASS="z"><TD CLASS="l">991</TD><TD>            if (action == null) {</TD></TR><TR CLASS="z"><TD CLASS="l">992</TD><TD>                throw new FacebookException(&#34;Can not set attachments prior to setting action.&#34;);</TD></TR><TR><TD CLASS="l">993</TD><TD>            }</TD></TR><TR><TD CLASS="l">994</TD><TD> </TD></TR><TR CLASS="z"><TD CLASS="l">995</TD><TD>            List&lt;String&gt; attachmentUrls = addImageAttachmentFiles(bitmapFiles);</TD></TR><TR CLASS="z"><TD CLASS="l">996</TD><TD>            updateActionAttachmentUrls(attachmentUrls, isUserGenerated);</TD></TR><TR><TD CLASS="l">997</TD><TD> </TD></TR><TR><TD CLASS="l">998</TD><TD>            @SuppressWarnings(&#34;unchecked&#34;)</TD></TR><TR CLASS="z"><TD CLASS="l">999</TD><TD>            CONCRETE result = (CONCRETE) this;</TD></TR><TR CLASS="z"><TD CLASS="l"><A NAME="41">1000</A></TD><TD>            return result;</TD></TR><TR><TD CLASS="l">1001</TD><TD>        }</TD></TR><TR><TD CLASS="l">1002</TD><TD> </TD></TR><TR><TD CLASS="l">1003</TD><TD>        private void updateActionAttachmentUrls(List&lt;String&gt; attachmentUrls, boolean isUserGenerated) {</TD></TR><TR CLASS="z"><TD CLASS="l">1004</TD><TD>            List&lt;JSONObject&gt; attachments = action.getImage();</TD></TR><TR CLASS="z"><TD CLASS="l">1005</TD><TD>            if (attachments == null) {</TD></TR><TR CLASS="z"><TD CLASS="l">1006</TD><TD>                attachments = new ArrayList&lt;JSONObject&gt;(attachmentUrls.size());</TD></TR><TR><TD CLASS="l">1007</TD><TD>            }</TD></TR><TR><TD CLASS="l">1008</TD><TD> </TD></TR><TR CLASS="z"><TD CLASS="l">1009</TD><TD>            for (String url : attachmentUrls) {</TD></TR><TR CLASS="z"><TD CLASS="l">1010</TD><TD>                JSONObject jsonObject = new JSONObject();</TD></TR><TR><TD CLASS="l">1011</TD><TD>                try {</TD></TR><TR CLASS="z"><TD CLASS="l">1012</TD><TD>                    jsonObject.put(NativeProtocol.IMAGE_URL_KEY, url);</TD></TR><TR CLASS="z"><TD CLASS="l">1013</TD><TD>                    if (isUserGenerated) {</TD></TR><TR CLASS="z"><TD CLASS="l">1014</TD><TD>                        jsonObject.put(NativeProtocol.IMAGE_USER_GENERATED_KEY, true);</TD></TR><TR><TD CLASS="l">1015</TD><TD>                    }</TD></TR><TR CLASS="z"><TD CLASS="l">1016</TD><TD>                } catch (JSONException e) {</TD></TR><TR CLASS="z"><TD CLASS="l">1017</TD><TD>                    throw new FacebookException(&#34;Unable to attach images&#34;, e);</TD></TR><TR CLASS="z"><TD CLASS="l">1018</TD><TD>                }</TD></TR><TR CLASS="z"><TD CLASS="l">1019</TD><TD>                attachments.add(jsonObject);</TD></TR><TR CLASS="z"><TD CLASS="l">1020</TD><TD>            }</TD></TR><TR CLASS="z"><TD CLASS="l">1021</TD><TD>            action.setImage(attachments);</TD></TR><TR CLASS="z"><TD CLASS="l">1022</TD><TD>        }</TD></TR><TR><TD CLASS="l">1023</TD><TD> </TD></TR><TR><TD CLASS="l">1024</TD><TD> </TD></TR><TR><TD CLASS="l">1025</TD><TD>        /**</TD></TR><TR><TD CLASS="l">1026</TD><TD>         * &lt;p&gt;Specifies a list of images for an Open Graph object referenced by the action that should be uploaded</TD></TR><TR><TD CLASS="l">1027</TD><TD>         * prior to publishing the action. The images will not be marked as user-generated.</TD></TR><TR><TD CLASS="l">1028</TD><TD>         * The action must already have been set prior to calling this method, and</TD></TR><TR><TD CLASS="l">1029</TD><TD>         * the action must have a GraphObject-valued property with the specified property name. This method will</TD></TR><TR><TD CLASS="l">1030</TD><TD>         * generate unique names for the image attachments and update the graph object to refer to these</TD></TR><TR><TD CLASS="l">1031</TD><TD>         * attachments. Note that calling setObject again after calling this method, or modifying the value of the</TD></TR><TR><TD CLASS="l">1032</TD><TD>         * specified property, will not clear the image attachments already set, but the new action (or objects)</TD></TR><TR><TD CLASS="l">1033</TD><TD>         * will have no reference to the existing attachments.&lt;/p&gt;</TD></TR><TR><TD CLASS="l">1034</TD><TD>         * &lt;p/&gt;</TD></TR><TR><TD CLASS="l">1035</TD><TD>         * &lt;p&gt;In order for the images to be provided to the Facebook application as part of the app call, the</TD></TR><TR><TD CLASS="l">1036</TD><TD>         * NativeAppCallContentProvider must be specified correctly in the application's AndroidManifest.xml.&lt;/p&gt;</TD></TR><TR><TD CLASS="l">1037</TD><TD>         *</TD></TR><TR><TD CLASS="l">1038</TD><TD>         * @param objectProperty the name of a property on the action that corresponds to an Open Graph object;</TD></TR><TR><TD CLASS="l">1039</TD><TD>         *                       the object must be marked as a new object to be created</TD></TR><TR><TD CLASS="l">1040</TD><TD>         *                       (i.e., {@link com.facebook.model.OpenGraphObject#getCreateObject()} must return</TD></TR><TR><TD CLASS="l">1041</TD><TD>         *                       true) or an exception will be thrown</TD></TR><TR><TD CLASS="l"><A NAME="3f">1042</A></TD><TD>         * @param bitmaps        a list of Files containing bitmaps to be uploaded and attached to the Open Graph object</TD></TR><TR><TD CLASS="l">1043</TD><TD>         * @return this instance of the builder</TD></TR><TR><TD CLASS="l">1044</TD><TD>         */</TD></TR><TR><TD CLASS="l">1045</TD><TD>        public CONCRETE setImageAttachmentsForObject(String objectProperty, List&lt;Bitmap&gt; bitmaps) {</TD></TR><TR CLASS="z"><TD CLASS="l">1046</TD><TD>            return setImageAttachmentsForObject(objectProperty, bitmaps, false);</TD></TR><TR><TD CLASS="l">1047</TD><TD>        }</TD></TR><TR><TD CLASS="l">1048</TD><TD> </TD></TR><TR><TD CLASS="l">1049</TD><TD>        /**</TD></TR><TR><TD CLASS="l">1050</TD><TD>         * &lt;p&gt;Specifies a list of images for an Open Graph object referenced by the action that should be uploaded</TD></TR><TR><TD CLASS="l">1051</TD><TD>         * prior to publishing the action. The images may be marked as being</TD></TR><TR><TD CLASS="l">1052</TD><TD>         * user-generated -- refer to</TD></TR><TR><TD CLASS="l">1053</TD><TD>         * &lt;a href=&#34;https://developers.facebook.com/docs/opengraph/howtos/adding-photos-to-stories/&#34;&gt;this article&lt;/a&gt;</TD></TR><TR><TD CLASS="l">1054</TD><TD>         * for more information.</TD></TR><TR><TD CLASS="l">1055</TD><TD>         * The action must already have been set prior to calling this method, and</TD></TR><TR><TD CLASS="l">1056</TD><TD>         * the action must have a GraphObject-valued property with the specified property name. This method will</TD></TR><TR><TD CLASS="l">1057</TD><TD>         * generate unique names for the image attachments and update the graph object to refer to these</TD></TR><TR><TD CLASS="l">1058</TD><TD>         * attachments. Note that calling setObject again after calling this method, or modifying the value of the</TD></TR><TR><TD CLASS="l">1059</TD><TD>         * specified property, will not clear the image attachments already set, but the new action (or objects)</TD></TR><TR><TD CLASS="l">1060</TD><TD>         * will have no reference to the existing attachments.&lt;/p&gt;</TD></TR><TR><TD CLASS="l">1061</TD><TD>         * &lt;p/&gt;</TD></TR><TR><TD CLASS="l">1062</TD><TD>         * &lt;p&gt;In order for the images to be provided to the Facebook application as part of the app call, the</TD></TR><TR><TD CLASS="l">1063</TD><TD>         * NativeAppCallContentProvider must be specified correctly in the application's AndroidManifest.xml.&lt;/p&gt;</TD></TR><TR><TD CLASS="l">1064</TD><TD>         *</TD></TR><TR><TD CLASS="l">1065</TD><TD>         * @param objectProperty  the name of a property on the action that corresponds to an Open Graph object;</TD></TR><TR><TD CLASS="l">1066</TD><TD>         *                        the object must be marked as a new object to be created</TD></TR><TR><TD CLASS="l">1067</TD><TD>         *                        (i.e., {@link com.facebook.model.OpenGraphObject#getCreateObject()} must return</TD></TR><TR><TD CLASS="l">1068</TD><TD>         *                        true) or an exception will be thrown</TD></TR><TR><TD CLASS="l">1069</TD><TD>         * @param objectProperty  the name of a property on the action that corresponds to an Open Graph object</TD></TR><TR><TD CLASS="l">1070</TD><TD>         * @param bitmaps         a list of Files containing bitmaps to be uploaded and attached to the Open Graph object</TD></TR><TR><TD CLASS="l">1071</TD><TD>         * @param isUserGenerated if true, specifies that the user_generated flag should be set for these images</TD></TR><TR><TD CLASS="l"><A NAME="40">1072</A></TD><TD>         * @return this instance of the builder</TD></TR><TR><TD CLASS="l">1073</TD><TD>         */</TD></TR><TR><TD CLASS="l">1074</TD><TD>        public CONCRETE setImageAttachmentsForObject(String objectProperty, List&lt;Bitmap&gt; bitmaps,</TD></TR><TR><TD CLASS="l">1075</TD><TD>                boolean isUserGenerated) {</TD></TR><TR CLASS="z"><TD CLASS="l">1076</TD><TD>            Validate.notNull(objectProperty, &#34;objectProperty&#34;);</TD></TR><TR CLASS="z"><TD CLASS="l">1077</TD><TD>            Validate.containsNoNulls(bitmaps, &#34;bitmaps&#34;);</TD></TR><TR CLASS="z"><TD CLASS="l">1078</TD><TD>            if (action == null) {</TD></TR><TR CLASS="z"><TD CLASS="l">1079</TD><TD>                throw new FacebookException(&#34;Can not set attachments prior to setting action.&#34;);</TD></TR><TR><TD CLASS="l">1080</TD><TD>            }</TD></TR><TR><TD CLASS="l">1081</TD><TD> </TD></TR><TR CLASS="z"><TD CLASS="l">1082</TD><TD>            List&lt;String&gt; attachmentUrls = addImageAttachments(bitmaps);</TD></TR><TR CLASS="z"><TD CLASS="l">1083</TD><TD>            updateObjectAttachmentUrls(objectProperty, attachmentUrls, isUserGenerated);</TD></TR><TR><TD CLASS="l">1084</TD><TD> </TD></TR><TR><TD CLASS="l">1085</TD><TD>            @SuppressWarnings(&#34;unchecked&#34;)</TD></TR><TR CLASS="z"><TD CLASS="l">1086</TD><TD>            CONCRETE result = (CONCRETE) this;</TD></TR><TR CLASS="z"><TD CLASS="l">1087</TD><TD>            return result;</TD></TR><TR><TD CLASS="l">1088</TD><TD>        }</TD></TR><TR><TD CLASS="l">1089</TD><TD> </TD></TR><TR><TD CLASS="l">1090</TD><TD>        /**</TD></TR><TR><TD CLASS="l">1091</TD><TD>         * &lt;p&gt;Specifies a list of images for an Open Graph object referenced by the action that should be uploaded</TD></TR><TR><TD CLASS="l">1092</TD><TD>         * prior to publishing the action. The images will not be marked as user-generated.</TD></TR><TR><TD CLASS="l">1093</TD><TD>         * The action must already have been set prior to calling this method, and</TD></TR><TR><TD CLASS="l">1094</TD><TD>         * the action must have a GraphObject-valued property with the specified property name. This method will</TD></TR><TR><TD CLASS="l">1095</TD><TD>         * generate unique names for the image attachments and update the graph object to refer to these</TD></TR><TR><TD CLASS="l">1096</TD><TD>         * attachments. Note that calling setObject again after calling this method, or modifying the value of the</TD></TR><TR><TD CLASS="l">1097</TD><TD>         * specified property, will not clear the image attachments already set, but the new action (or objects)</TD></TR><TR><TD CLASS="l">1098</TD><TD>         * will have no reference to the existing attachments.&lt;/p&gt;</TD></TR><TR><TD CLASS="l">1099</TD><TD>         * &lt;p/&gt;</TD></TR><TR><TD CLASS="l">1100</TD><TD>         * &lt;p&gt;In order for the images to be provided to the Facebook application as part of the app call, the</TD></TR><TR><TD CLASS="l">1101</TD><TD>         * NativeAppCallContentProvider must be specified correctly in the application's AndroidManifest.xml.&lt;/p&gt;</TD></TR><TR><TD CLASS="l">1102</TD><TD>         *</TD></TR><TR><TD CLASS="l">1103</TD><TD>         * @param objectProperty the name of a property on the action that corresponds to an Open Graph object;</TD></TR><TR><TD CLASS="l">1104</TD><TD>         *                       the object must be marked as a new object to be created</TD></TR><TR><TD CLASS="l">1105</TD><TD>         *                       (i.e., {@link com.facebook.model.OpenGraphObject#getCreateObject()} must return</TD></TR><TR><TD CLASS="l">1106</TD><TD>         *                       true) or an exception will be thrown</TD></TR><TR><TD CLASS="l">1107</TD><TD>         * @param bitmapFiles    a list of Bitmaps to be uploaded and attached to the Open Graph object</TD></TR><TR><TD CLASS="l"><A NAME="3b">1108</A></TD><TD>         * @return this instance of the builder</TD></TR><TR><TD CLASS="l">1109</TD><TD>         */</TD></TR><TR><TD CLASS="l">1110</TD><TD>        public CONCRETE setImageAttachmentFilesForObject(String objectProperty,</TD></TR><TR><TD CLASS="l">1111</TD><TD>                List&lt;File&gt; bitmapFiles) {</TD></TR><TR CLASS="z"><TD CLASS="l">1112</TD><TD>            return setImageAttachmentFilesForObject(objectProperty, bitmapFiles, false);</TD></TR><TR><TD CLASS="l">1113</TD><TD>        }</TD></TR><TR><TD CLASS="l">1114</TD><TD> </TD></TR><TR><TD CLASS="l">1115</TD><TD>        /**</TD></TR><TR><TD CLASS="l">1116</TD><TD>         * &lt;p&gt;Specifies a list of images for an Open Graph object referenced by the action that should be uploaded</TD></TR><TR><TD CLASS="l">1117</TD><TD>         * prior to publishing the action. The images may be marked as being</TD></TR><TR><TD CLASS="l">1118</TD><TD>         * user-generated -- refer to</TD></TR><TR><TD CLASS="l">1119</TD><TD>         * &lt;a href=&#34;https://developers.facebook.com/docs/opengraph/howtos/adding-photos-to-stories/&#34;&gt;this article&lt;/a&gt;</TD></TR><TR><TD CLASS="l">1120</TD><TD>         * for more information.</TD></TR><TR><TD CLASS="l">1121</TD><TD>         * The action must already have been set prior to calling this method, and</TD></TR><TR><TD CLASS="l">1122</TD><TD>         * the action must have a GraphObject-valued property with the specified property name. This method will</TD></TR><TR><TD CLASS="l">1123</TD><TD>         * generate unique names for the image attachments and update the graph object to refer to these</TD></TR><TR><TD CLASS="l">1124</TD><TD>         * attachments. Note that calling setObject again after calling this method, or modifying the value of the</TD></TR><TR><TD CLASS="l">1125</TD><TD>         * specified property, will not clear the image attachments already set, but the new action (or objects)</TD></TR><TR><TD CLASS="l">1126</TD><TD>         * will have no reference to the existing attachments.&lt;/p&gt;</TD></TR><TR><TD CLASS="l">1127</TD><TD>         * &lt;p/&gt;</TD></TR><TR><TD CLASS="l">1128</TD><TD>         * &lt;p&gt;In order for the images to be provided to the Facebook application as part of the app call, the</TD></TR><TR><TD CLASS="l">1129</TD><TD>         * NativeAppCallContentProvider must be specified correctly in the application's AndroidManifest.xml.&lt;/p&gt;</TD></TR><TR><TD CLASS="l">1130</TD><TD>         *</TD></TR><TR><TD CLASS="l">1131</TD><TD>         * @param objectProperty  the name of a property on the action that corresponds to an Open Graph object;</TD></TR><TR><TD CLASS="l">1132</TD><TD>         *                        the object must be marked as a new object to be created</TD></TR><TR><TD CLASS="l">1133</TD><TD>         *                        (i.e., {@link com.facebook.model.OpenGraphObject#getCreateObject()} must return</TD></TR><TR><TD CLASS="l">1134</TD><TD>         *                        true) or an exception will be thrown</TD></TR><TR><TD CLASS="l">1135</TD><TD>         * @param bitmapFiles     a list of Bitmaps to be uploaded and attached to the Open Graph object</TD></TR><TR><TD CLASS="l">1136</TD><TD>         * @param isUserGenerated if true, specifies that the user_generated flag should be set for these images</TD></TR><TR><TD CLASS="l"><A NAME="3c">1137</A></TD><TD>         * @return this instance of the builder</TD></TR><TR><TD CLASS="l">1138</TD><TD>         */</TD></TR><TR><TD CLASS="l">1139</TD><TD>        public CONCRETE setImageAttachmentFilesForObject(String objectProperty,</TD></TR><TR><TD CLASS="l">1140</TD><TD>                List&lt;File&gt; bitmapFiles, boolean isUserGenerated) {</TD></TR><TR CLASS="z"><TD CLASS="l">1141</TD><TD>            Validate.notNull(objectProperty, &#34;objectProperty&#34;);</TD></TR><TR CLASS="z"><TD CLASS="l">1142</TD><TD>            Validate.containsNoNulls(bitmapFiles, &#34;bitmapFiles&#34;);</TD></TR><TR CLASS="z"><TD CLASS="l">1143</TD><TD>            if (action == null) {</TD></TR><TR CLASS="z"><TD CLASS="l">1144</TD><TD>                throw new FacebookException(&#34;Can not set attachments prior to setting action.&#34;);</TD></TR><TR><TD CLASS="l">1145</TD><TD>            }</TD></TR><TR><TD CLASS="l">1146</TD><TD> </TD></TR><TR CLASS="z"><TD CLASS="l">1147</TD><TD>            List&lt;String&gt; attachmentUrls = addImageAttachmentFiles(bitmapFiles);</TD></TR><TR CLASS="z"><TD CLASS="l">1148</TD><TD>            updateObjectAttachmentUrls(objectProperty, attachmentUrls, isUserGenerated);</TD></TR><TR><TD CLASS="l">1149</TD><TD> </TD></TR><TR><TD CLASS="l">1150</TD><TD>            @SuppressWarnings(&#34;unchecked&#34;)</TD></TR><TR CLASS="z"><TD CLASS="l">1151</TD><TD>            CONCRETE result = (CONCRETE) this;</TD></TR><TR CLASS="z"><TD CLASS="l">1152</TD><TD>            return result;</TD></TR><TR><TD CLASS="l">1153</TD><TD>        }</TD></TR><TR><TD CLASS="l"><A NAME="42">1154</A></TD><TD> </TD></TR><TR><TD CLASS="l">1155</TD><TD>        void updateObjectAttachmentUrls(String objectProperty, List&lt;String&gt; attachmentUrls, boolean isUserGenerated) {</TD></TR><TR><TD CLASS="l">1156</TD><TD>            final OpenGraphObject object;</TD></TR><TR><TD CLASS="l">1157</TD><TD>            try {</TD></TR><TR CLASS="z"><TD CLASS="l">1158</TD><TD>                object = action.getPropertyAs(objectProperty, OpenGraphObject.class);</TD></TR><TR CLASS="z"><TD CLASS="l">1159</TD><TD>                if (object == null) {</TD></TR><TR CLASS="z"><TD CLASS="l">1160</TD><TD>                    throw new IllegalArgumentException(&#34;Action does not contain a property '&#34; + objectProperty + &#34;'&#34;);</TD></TR><TR><TD CLASS="l">1161</TD><TD>                }</TD></TR><TR CLASS="z"><TD CLASS="l">1162</TD><TD>            } catch (FacebookGraphObjectException exception) {</TD></TR><TR CLASS="z"><TD CLASS="l">1163</TD><TD>                throw new IllegalArgumentException(&#34;Property '&#34; + objectProperty + &#34;' is not a graph object&#34;);</TD></TR><TR CLASS="z"><TD CLASS="l">1164</TD><TD>            }</TD></TR><TR CLASS="z"><TD CLASS="l">1165</TD><TD>            if (!object.getCreateObject()) {</TD></TR><TR CLASS="z"><TD CLASS="l">1166</TD><TD>                throw new IllegalArgumentException(</TD></TR><TR><TD CLASS="l">1167</TD><TD>                        &#34;The Open Graph object in '&#34; + objectProperty + &#34;' is not marked for creation&#34;);</TD></TR><TR><TD CLASS="l">1168</TD><TD>            }</TD></TR><TR><TD CLASS="l">1169</TD><TD> </TD></TR><TR CLASS="z"><TD CLASS="l">1170</TD><TD>            GraphObjectList&lt;GraphObject&gt; attachments = object.getImage();</TD></TR><TR CLASS="z"><TD CLASS="l">1171</TD><TD>            if (attachments == null) {</TD></TR><TR CLASS="z"><TD CLASS="l">1172</TD><TD>                attachments = GraphObject.Factory.createList(GraphObject.class);</TD></TR><TR><TD CLASS="l">1173</TD><TD>            }</TD></TR><TR CLASS="z"><TD CLASS="l">1174</TD><TD>            for (String url : attachmentUrls) {</TD></TR><TR CLASS="z"><TD CLASS="l">1175</TD><TD>                GraphObject graphObject = GraphObject.Factory.create();</TD></TR><TR CLASS="z"><TD CLASS="l">1176</TD><TD>                graphObject.setProperty(NativeProtocol.IMAGE_URL_KEY, url);</TD></TR><TR CLASS="z"><TD CLASS="l">1177</TD><TD>                if (isUserGenerated) {</TD></TR><TR CLASS="z"><TD CLASS="l">1178</TD><TD>                    graphObject.setProperty(NativeProtocol.IMAGE_USER_GENERATED_KEY, true);</TD></TR><TR><TD CLASS="l">1179</TD><TD>                }</TD></TR><TR CLASS="z"><TD CLASS="l">1180</TD><TD>                attachments.add(graphObject);</TD></TR><TR CLASS="z"><TD CLASS="l">1181</TD><TD>            }</TD></TR><TR CLASS="z"><TD CLASS="l">1182</TD><TD>            object.setImage(attachments);</TD></TR><TR CLASS="z"><TD CLASS="l"><A NAME="37">1183</A></TD><TD>        }</TD></TR><TR><TD CLASS="l">1184</TD><TD> </TD></TR><TR><TD CLASS="l">1185</TD><TD>        @Override</TD></TR><TR><TD CLASS="l">1186</TD><TD>        Bundle setBundleExtras(Bundle extras) {</TD></TR><TR CLASS="z"><TD CLASS="l">1187</TD><TD>            putExtra(extras, NativeProtocol.EXTRA_PREVIEW_PROPERTY_NAME, previewPropertyName);</TD></TR><TR CLASS="z"><TD CLASS="l">1188</TD><TD>            putExtra(extras, NativeProtocol.EXTRA_ACTION_TYPE, actionType);</TD></TR><TR CLASS="z"><TD CLASS="l">1189</TD><TD>            extras.putBoolean(NativeProtocol.EXTRA_DATA_FAILURES_FATAL, dataErrorsFatal);</TD></TR><TR><TD CLASS="l">1190</TD><TD> </TD></TR><TR CLASS="z"><TD CLASS="l">1191</TD><TD>            JSONObject jsonAction = action.getInnerJSONObject();</TD></TR><TR CLASS="z"><TD CLASS="l">1192</TD><TD>            jsonAction = flattenChildrenOfGraphObject(jsonAction);</TD></TR><TR><TD CLASS="l">1193</TD><TD> </TD></TR><TR CLASS="z"><TD CLASS="l">1194</TD><TD>            String jsonString = jsonAction.toString();</TD></TR><TR CLASS="z"><TD CLASS="l">1195</TD><TD>            putExtra(extras, NativeProtocol.EXTRA_ACTION, jsonString);</TD></TR><TR><TD CLASS="l">1196</TD><TD> </TD></TR><TR CLASS="z"><TD CLASS="l">1197</TD><TD>            return extras;</TD></TR><TR><TD CLASS="l">1198</TD><TD>        }</TD></TR><TR><TD CLASS="l"><A NAME="35">1199</A></TD><TD> </TD></TR><TR><TD CLASS="l">1200</TD><TD>        private JSONObject flattenChildrenOfGraphObject(JSONObject graphObject) {</TD></TR><TR><TD CLASS="l">1201</TD><TD>            try {</TD></TR><TR><TD CLASS="l">1202</TD><TD>                // Clone the existing object to avoid modifying it from under the caller.</TD></TR><TR CLASS="z"><TD CLASS="l">1203</TD><TD>                graphObject = new JSONObject(graphObject.toString());</TD></TR><TR><TD CLASS="l">1204</TD><TD> </TD></TR><TR><TD CLASS="l">1205</TD><TD>                @SuppressWarnings(&#34;unchecked&#34;)</TD></TR><TR CLASS="z"><TD CLASS="l">1206</TD><TD>                Iterator&lt;String&gt; keys = graphObject.keys();</TD></TR><TR CLASS="z"><TD CLASS="l">1207</TD><TD>                while (keys.hasNext()) {</TD></TR><TR CLASS="z"><TD CLASS="l">1208</TD><TD>                    String key = keys.next();</TD></TR><TR><TD CLASS="l">1209</TD><TD>                    // The &#34;image&#34; property should not be flattened</TD></TR><TR CLASS="z"><TD CLASS="l">1210</TD><TD>                    if (!key.equalsIgnoreCase(&#34;image&#34;)) {</TD></TR><TR CLASS="z"><TD CLASS="l">1211</TD><TD>                        Object object = graphObject.get(key);</TD></TR><TR><TD CLASS="l">1212</TD><TD> </TD></TR><TR CLASS="z"><TD CLASS="l">1213</TD><TD>                        object = flattenObject(object);</TD></TR><TR CLASS="z"><TD CLASS="l">1214</TD><TD>                        graphObject.put(key, object);</TD></TR><TR><TD CLASS="l">1215</TD><TD>                    }</TD></TR><TR CLASS="z"><TD CLASS="l">1216</TD><TD>                }</TD></TR><TR><TD CLASS="l">1217</TD><TD> </TD></TR><TR CLASS="z"><TD CLASS="l">1218</TD><TD>                return graphObject;</TD></TR><TR CLASS="z"><TD CLASS="l">1219</TD><TD>            } catch (JSONException e) {</TD></TR><TR CLASS="z"><TD CLASS="l">1220</TD><TD>                throw new FacebookException(e);</TD></TR><TR><TD CLASS="l"><A NAME="36">1221</A></TD><TD>            }</TD></TR><TR><TD CLASS="l">1222</TD><TD>        }</TD></TR><TR><TD CLASS="l">1223</TD><TD> </TD></TR><TR><TD CLASS="l">1224</TD><TD>        private Object flattenObject(Object object) throws JSONException {</TD></TR><TR CLASS="z"><TD CLASS="l">1225</TD><TD>            if (object == null) {</TD></TR><TR CLASS="z"><TD CLASS="l">1226</TD><TD>                return null;</TD></TR><TR><TD CLASS="l">1227</TD><TD>            }</TD></TR><TR><TD CLASS="l">1228</TD><TD> </TD></TR><TR CLASS="z"><TD CLASS="l">1229</TD><TD>            if (object instanceof JSONObject) {</TD></TR><TR CLASS="z"><TD CLASS="l">1230</TD><TD>                JSONObject jsonObject = (JSONObject) object;</TD></TR><TR><TD CLASS="l">1231</TD><TD> </TD></TR><TR><TD CLASS="l">1232</TD><TD>                // Don't flatten objects that are marked as create_object.</TD></TR><TR CLASS="z"><TD CLASS="l">1233</TD><TD>                if (jsonObject.optBoolean(NativeProtocol.OPEN_GRAPH_CREATE_OBJECT_KEY)) {</TD></TR><TR CLASS="z"><TD CLASS="l">1234</TD><TD>                    return object;</TD></TR><TR><TD CLASS="l">1235</TD><TD>                }</TD></TR><TR CLASS="z"><TD CLASS="l">1236</TD><TD>                if (jsonObject.has(&#34;id&#34;)) {</TD></TR><TR CLASS="z"><TD CLASS="l">1237</TD><TD>                    return jsonObject.getString(&#34;id&#34;);</TD></TR><TR CLASS="z"><TD CLASS="l">1238</TD><TD>                } else if (jsonObject.has(&#34;url&#34;)) {</TD></TR><TR CLASS="z"><TD CLASS="l">1239</TD><TD>                    return jsonObject.getString(&#34;url&#34;);</TD></TR><TR><TD CLASS="l">1240</TD><TD>                }</TD></TR><TR CLASS="z"><TD CLASS="l">1241</TD><TD>            } else if (object instanceof JSONArray) {</TD></TR><TR CLASS="z"><TD CLASS="l">1242</TD><TD>                JSONArray jsonArray = (JSONArray) object;</TD></TR><TR CLASS="z"><TD CLASS="l">1243</TD><TD>                JSONArray newArray = new JSONArray();</TD></TR><TR CLASS="z"><TD CLASS="l">1244</TD><TD>                int length = jsonArray.length();</TD></TR><TR><TD CLASS="l">1245</TD><TD> </TD></TR><TR CLASS="z"><TD CLASS="l">1246</TD><TD>                for (int i = 0; i &lt; length; ++i) {</TD></TR><TR CLASS="z"><TD CLASS="l">1247</TD><TD>                    newArray.put(flattenObject(jsonArray.get(i)));</TD></TR><TR><TD CLASS="l">1248</TD><TD>                }</TD></TR><TR><TD CLASS="l">1249</TD><TD> </TD></TR><TR CLASS="z"><TD CLASS="l">1250</TD><TD>                return newArray;</TD></TR><TR><TD CLASS="l">1251</TD><TD>            }</TD></TR><TR><TD CLASS="l">1252</TD><TD> </TD></TR><TR CLASS="z"><TD CLASS="l">1253</TD><TD>            return object;</TD></TR><TR><TD CLASS="l">1254</TD><TD>        }</TD></TR><TR><TD CLASS="l">1255</TD><TD>    }</TD></TR><TR><TD CLASS="l">1256</TD><TD> </TD></TR><TR><TD CLASS="l">1257</TD><TD>    /**</TD></TR><TR><TD CLASS="l">1258</TD><TD>     * Provides a builder which can construct a FacebookDialog instance suitable for presenting the native</TD></TR><TR><TD CLASS="l">1259</TD><TD>     * Open Graph action publish dialog. This builder allows the caller to specify binary images for both the</TD></TR><TR><TD CLASS="l">1260</TD><TD>     * action and any Open Graph objects to be created prior to publishing the action.</TD></TR><TR><TD CLASS="l">1261</TD><TD>     * This builder will throw an exception if the Facebook application is not installed, so it</TD></TR><TR><TD CLASS="l">1262</TD><TD>     * should only be used if {@link FacebookDialog#canPresentOpenGraphActionDialog(android.content.Context,</TD></TR><TR><TD CLASS="l">1263</TD><TD>     * com.facebook.widget.FacebookDialog.OpenGraphActionDialogFeature...)} indicates the capability is available.</TD></TR><TR><TD CLASS="l">1264</TD><TD>     */</TD></TR><TR><TD CLASS="l">1265</TD><TD>    public static class OpenGraphActionDialogBuilder extends OpenGraphDialogBuilderBase&lt;OpenGraphActionDialogBuilder&gt; {</TD></TR><TR><TD CLASS="l">1266</TD><TD>        /**</TD></TR><TR><TD CLASS="l">1267</TD><TD>         * Constructor.</TD></TR><TR><TD CLASS="l">1268</TD><TD>         *</TD></TR><TR><TD CLASS="l">1269</TD><TD>         * @param activity            the Activity which is presenting the native Open Graph action publish dialog;</TD></TR><TR><TD CLASS="l">1270</TD><TD>         *                            must not be null</TD></TR><TR><TD CLASS="l">1271</TD><TD>         * @param action              the Open Graph action to be published, which must contain a reference to at least one</TD></TR><TR><TD CLASS="l">1272</TD><TD>         *                            Open Graph object with the property name specified by setPreviewPropertyName; the action</TD></TR><TR><TD CLASS="l">1273</TD><TD>         *                            must have had its type specified via the {@link OpenGraphAction#setType(String)} method</TD></TR><TR><TD CLASS="l">1274</TD><TD>         * @param actionType          the type of the Open Graph action to be published, which should be the namespace-qualified</TD></TR><TR><TD CLASS="l">1275</TD><TD>         *                            name of the action type (e.g., &#34;myappnamespace:myactiontype&#34;); this will override the type</TD></TR><TR><TD CLASS="l">1276</TD><TD>         *                            of the action passed in.</TD></TR><TR><TD CLASS="l">1277</TD><TD>         * @param previewPropertyName the name of a property on the Open Graph action that contains the</TD></TR><TR><TD CLASS="l">1278</TD><TD>         *                            Open Graph object which will be displayed as a preview to the user</TD></TR><TR><TD CLASS="l"><A NAME="27">1279</A></TD><TD>         */</TD></TR><TR><TD CLASS="l">1280</TD><TD>        @Deprecated</TD></TR><TR><TD CLASS="l">1281</TD><TD>        public OpenGraphActionDialogBuilder(Activity activity, OpenGraphAction action, String actionType,</TD></TR><TR><TD CLASS="l">1282</TD><TD>                String previewPropertyName) {</TD></TR><TR CLASS="z"><TD CLASS="l">1283</TD><TD>            super(activity, action, actionType, previewPropertyName);</TD></TR><TR CLASS="z"><TD CLASS="l">1284</TD><TD>        }</TD></TR><TR><TD CLASS="l">1285</TD><TD> </TD></TR><TR><TD CLASS="l">1286</TD><TD>        /**</TD></TR><TR><TD CLASS="l">1287</TD><TD>         * Constructor.</TD></TR><TR><TD CLASS="l">1288</TD><TD>         *</TD></TR><TR><TD CLASS="l">1289</TD><TD>         * @param activity            the Activity which is presenting the native Open Graph action publish dialog;</TD></TR><TR><TD CLASS="l">1290</TD><TD>         *                            must not be null</TD></TR><TR><TD CLASS="l">1291</TD><TD>         * @param action              the Open Graph action to be published, which must contain a reference to at least one</TD></TR><TR><TD CLASS="l">1292</TD><TD>         *                            Open Graph object with the property name specified by setPreviewPropertyName; the action</TD></TR><TR><TD CLASS="l">1293</TD><TD>         *                            must have had its type specified via the {@link OpenGraphAction#setType(String)} method</TD></TR><TR><TD CLASS="l"><A NAME="28">1294</A></TD><TD>         * @param previewPropertyName the name of a property on the Open Graph action that contains the</TD></TR><TR><TD CLASS="l">1295</TD><TD>         *                            Open Graph object which will be displayed as a preview to the user</TD></TR><TR><TD CLASS="l">1296</TD><TD>         */</TD></TR><TR><TD CLASS="l">1297</TD><TD>        public OpenGraphActionDialogBuilder(Activity activity, OpenGraphAction action, String previewPropertyName) {</TD></TR><TR CLASS="z"><TD CLASS="l">1298</TD><TD>            super(activity, action, previewPropertyName);</TD></TR><TR CLASS="z"><TD CLASS="l"><A NAME="2a">1299</A></TD><TD>        }</TD></TR><TR><TD CLASS="l">1300</TD><TD> </TD></TR><TR><TD CLASS="l">1301</TD><TD>        @Override</TD></TR><TR><TD CLASS="l">1302</TD><TD>        EnumSet&lt;? extends DialogFeature&gt; getDialogFeatures() {</TD></TR><TR CLASS="z"><TD CLASS="l">1303</TD><TD>            return EnumSet.of(OpenGraphActionDialogFeature.OG_ACTION_DIALOG);</TD></TR><TR><TD CLASS="l">1304</TD><TD>        }</TD></TR><TR><TD CLASS="l">1305</TD><TD>    }</TD></TR><TR><TD CLASS="l">1306</TD><TD> </TD></TR><TR><TD CLASS="l"><A NAME="43">1307</A></TD><TD>    /**</TD></TR><TR><TD CLASS="l">1308</TD><TD>     * Encapsulates information about a call being made to the Facebook application for Android. A unique String</TD></TR><TR><TD CLASS="l">1309</TD><TD>     * call ID is used to track calls through their lifecycle.</TD></TR><TR><TD CLASS="l">1310</TD><TD>     */</TD></TR><TR CLASS="z"><TD CLASS="l">1311</TD><TD>    public static class PendingCall implements Parcelable {</TD></TR><TR><TD CLASS="l">1312</TD><TD>        private UUID callId;</TD></TR><TR><TD CLASS="l">1313</TD><TD>        private Intent requestIntent;</TD></TR><TR><TD CLASS="l">1314</TD><TD>        private int requestCode;</TD></TR><TR><TD CLASS="l">1315</TD><TD> </TD></TR><TR><TD CLASS="l">1316</TD><TD>        /**</TD></TR><TR><TD CLASS="l"><A NAME="47">1317</A></TD><TD>         * Constructor.</TD></TR><TR><TD CLASS="l">1318</TD><TD>         *</TD></TR><TR><TD CLASS="l">1319</TD><TD>         * @param requestCode the request code for this app call</TD></TR><TR><TD CLASS="l">1320</TD><TD>         */</TD></TR><TR CLASS="z"><TD CLASS="l">1321</TD><TD>        public PendingCall(int requestCode) {</TD></TR><TR CLASS="z"><TD CLASS="l"><A NAME="45">1322</A></TD><TD>            callId = UUID.randomUUID();</TD></TR><TR CLASS="z"><TD CLASS="l">1323</TD><TD>            this.requestCode = requestCode;</TD></TR><TR CLASS="z"><TD CLASS="l">1324</TD><TD>        }</TD></TR><TR><TD CLASS="l">1325</TD><TD> </TD></TR><TR CLASS="z"><TD CLASS="l">1326</TD><TD>        private PendingCall(Parcel in) {</TD></TR><TR CLASS="z"><TD CLASS="l">1327</TD><TD>            callId = UUID.fromString(in.readString());</TD></TR><TR CLASS="z"><TD CLASS="l">1328</TD><TD>            requestIntent = in.readParcelable(null);</TD></TR><TR CLASS="z"><TD CLASS="l"><A NAME="4f">1329</A></TD><TD>            requestCode = in.readInt();</TD></TR><TR CLASS="z"><TD CLASS="l">1330</TD><TD>        }</TD></TR><TR><TD CLASS="l">1331</TD><TD> </TD></TR><TR><TD CLASS="l">1332</TD><TD>        private void setRequestIntent(Intent requestIntent) {</TD></TR><TR CLASS="z"><TD CLASS="l">1333</TD><TD>            this.requestIntent = requestIntent;</TD></TR><TR CLASS="z"><TD CLASS="l">1334</TD><TD>            this.requestIntent.putExtra(NativeProtocol.EXTRA_PROTOCOL_CALL_ID, callId.toString());</TD></TR><TR CLASS="z"><TD CLASS="l">1335</TD><TD>        }</TD></TR><TR><TD CLASS="l">1336</TD><TD> </TD></TR><TR><TD CLASS="l">1337</TD><TD>        /**</TD></TR><TR><TD CLASS="l">1338</TD><TD>         * Returns the Intent that was used to initiate this call to the Facebook application.</TD></TR><TR><TD CLASS="l"><A NAME="4d">1339</A></TD><TD>         *</TD></TR><TR><TD CLASS="l">1340</TD><TD>         * @return the Intent</TD></TR><TR><TD CLASS="l">1341</TD><TD>         */</TD></TR><TR><TD CLASS="l">1342</TD><TD>        public Intent getRequestIntent() {</TD></TR><TR CLASS="z"><TD CLASS="l">1343</TD><TD>            return requestIntent;</TD></TR><TR><TD CLASS="l">1344</TD><TD>        }</TD></TR><TR><TD CLASS="l">1345</TD><TD> </TD></TR><TR><TD CLASS="l">1346</TD><TD>        /**</TD></TR><TR><TD CLASS="l">1347</TD><TD>         * Returns the unique ID of this call to the Facebook application.</TD></TR><TR><TD CLASS="l"><A NAME="4b">1348</A></TD><TD>         *</TD></TR><TR><TD CLASS="l">1349</TD><TD>         * @return the unique ID</TD></TR><TR><TD CLASS="l">1350</TD><TD>         */</TD></TR><TR><TD CLASS="l">1351</TD><TD>        public UUID getCallId() {</TD></TR><TR CLASS="z"><TD CLASS="l"><A NAME="4e">1352</A></TD><TD>            return callId;</TD></TR><TR><TD CLASS="l">1353</TD><TD>        }</TD></TR><TR><TD CLASS="l">1354</TD><TD> </TD></TR><TR><TD CLASS="l">1355</TD><TD>        private void setRequestCode(int requestCode) {</TD></TR><TR CLASS="z"><TD CLASS="l">1356</TD><TD>            this.requestCode = requestCode;</TD></TR><TR CLASS="z"><TD CLASS="l">1357</TD><TD>        }</TD></TR><TR><TD CLASS="l">1358</TD><TD> </TD></TR><TR><TD CLASS="l">1359</TD><TD>        /**</TD></TR><TR><TD CLASS="l">1360</TD><TD>         * Gets the request code for this call.</TD></TR><TR><TD CLASS="l"><A NAME="4c">1361</A></TD><TD>         *</TD></TR><TR><TD CLASS="l">1362</TD><TD>         * @return the request code that will be passed to handleActivityResult upon completion.</TD></TR><TR><TD CLASS="l">1363</TD><TD>         */</TD></TR><TR><TD CLASS="l">1364</TD><TD>        public int getRequestCode() {</TD></TR><TR CLASS="z"><TD CLASS="l">1365</TD><TD>            return requestCode;</TD></TR><TR><TD CLASS="l"><A NAME="4a">1366</A></TD><TD>        }</TD></TR><TR><TD CLASS="l">1367</TD><TD> </TD></TR><TR><TD CLASS="l">1368</TD><TD>        @Override</TD></TR><TR><TD CLASS="l">1369</TD><TD>        public int describeContents() {</TD></TR><TR CLASS="z"><TD CLASS="l">1370</TD><TD>            return 0;</TD></TR><TR><TD CLASS="l"><A NAME="50">1371</A></TD><TD>        }</TD></TR><TR><TD CLASS="l">1372</TD><TD> </TD></TR><TR><TD CLASS="l">1373</TD><TD>        @Override</TD></TR><TR><TD CLASS="l">1374</TD><TD>        public void writeToParcel(Parcel parcel, int i) {</TD></TR><TR CLASS="z"><TD CLASS="l">1375</TD><TD>            parcel.writeString(callId.toString());</TD></TR><TR CLASS="z"><TD CLASS="l"><A NAME="44">1376</A></TD><TD>            parcel.writeParcelable(requestIntent, 0);</TD></TR><TR CLASS="z"><TD CLASS="l"><A NAME="51">1377</A></TD><TD>            parcel.writeInt(requestCode);</TD></TR><TR CLASS="z"><TD CLASS="l">1378</TD><TD>        }</TD></TR><TR><TD CLASS="l"><A NAME="53">1379</A></TD><TD> </TD></TR><TR CLASS="z"><TD CLASS="l">1380</TD><TD>        public static final Creator&lt;PendingCall&gt; CREATOR</TD></TR><TR CLASS="z"><TD CLASS="l">1381</TD><TD>                = new Creator&lt;PendingCall&gt;() {</TD></TR><TR><TD CLASS="l">1382</TD><TD>            public PendingCall createFromParcel(Parcel in) {</TD></TR><TR CLASS="z"><TD CLASS="l"><A NAME="54">1383</A></TD><TD>                return new PendingCall(in);</TD></TR><TR><TD CLASS="l">1384</TD><TD>            }</TD></TR><TR><TD CLASS="l">1385</TD><TD> </TD></TR><TR><TD CLASS="l">1386</TD><TD>            public PendingCall[] newArray(int size) {</TD></TR><TR CLASS="z"><TD CLASS="l">1387</TD><TD>                return new PendingCall[size];</TD></TR><TR><TD CLASS="l">1388</TD><TD>            }</TD></TR><TR><TD CLASS="l">1389</TD><TD>        };</TD></TR><TR><TD CLASS="l">1390</TD><TD>    }</TD></TR><TR><TD CLASS="l">1391</TD><TD>}</TD></TR></TABLE><P></P><TABLE CLASS="hdft" CELLSPACING="0" WIDTH="100%"><TR><TD CLASS="nv">[<A HREF="../coverage.html">all classes</A>][<A HREF="3.html">com.facebook.widget</A>]</TD></TR><TR><TD CLASS="tl"><A HREF="http://sourceforge.net/projects/emma">EMMA 2.0.5312</A> (C) Vladimir Roubtsov</TD></TR></TABLE></BODY></HTML>